<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GTA My Assets</title>
    <!-- External Font (Inter) and Icons (Lucide) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        /* Main Style */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #18181b; /* Tailwind 'zinc-900' */
            color: #e4e4e7; /* Tailwind 'zinc-200' */
            background-image: url('https://placehold.co/1920x1080/18181b/18181b?text=+'); /* Placeholder for background pattern/image */
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            /* Smooth transition for background change */
            transition: background-image 0.5s ease-in-out;
        }

        /* Rockstar Social Club-like dark and modern theme */
        .glass-effect {
            background-color: rgba(24, 24, 27, 0.8); /* zinc-900 80% opacity */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(63, 63, 70, 0.5); /* zinc-700 50% opacity */
        }

        /* Scrollbar Style */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #27272a; /* zinc-800 */
        }
        ::-webkit-scrollbar-thumb {
            background: #52525b; /* zinc-600 */
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #71717a; /* zinc-500 */
        }

        /* Active Menu Item */
        .nav-link.active {
            color: #ffffff;
            background-color: #f59e0b; /* amber-500 */
        }
        .nav-link.active:hover {
            background-color: #f59e0b;
        }

        /* --- NEW BUTTON STYLES (MATCHING SCREENSHOT) --- */

        /* Main Sort Buttons (Garage, Type, Website) */
        .btn-sort {
            background-color: #18181b; /* zinc-900 */
            color: #a1a1aa; /* zinc-400 */
            padding: 0.5rem 1rem;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.875rem;
            transition: all 0.2s ease;
            border: 1px solid #3f3f46; /* zinc-700 */
        }
        .btn-sort:hover {
            color: #ffffff;
            background-color: #27272a; /* zinc-800 */
        }
        /* UPDATED: Active button is now orange */
        .btn-sort.active {
            color: #18181b; /* zinc-900 (Dark text) */
            background-color: #f59e0b; /* amber-500 */
            border-color: #f59e0b; /* amber-500 */
        }
        .btn-sort:first-child {
            border-top-left-radius: 0.375rem;
            border-bottom-left-radius: 0.375rem;
        }
        .btn-sort:last-child {
            border-top-right-radius: 0.375rem;
            border-bottom-right-radius: 0.375rem;
        }

        /* Sub-Filter Buttons (All, Penthouse, Super, etc.) */
        .btn-filter {
            color: #a1a1aa; /* zinc-400 */
            font-weight: 600;
            text-transform: uppercase;
            padding: 0.5rem 0.25rem;
            margin: 0 0.5rem;
            border-bottom: 3px solid transparent;
            transition: all 0.2s ease;
        }
        .btn-filter:hover {
            color: #ffffff;
        }
        .btn-filter.active {
            color: #ffffff;
            border-bottom-color: #f59e0b; /* amber-500 */
        }
        /* --- END NEW BUTTON STYLES --- */
        
        /* NEW: Style for the asset list progress bar */
        .asset-progress-bar {
            background-color: #3f3f46; /* zinc-700 */
            border-radius: 2px;
            height: 4px;
            overflow: hidden;
        }
        .asset-progress-fill {
            height: 100%;
            background-color: #f59e0b; /* amber-500 */
            transition: width 0.3s ease-out; /* Added transition */
        }
        
        /* NEW: Styles for Expandable Properties */
        #property-summary {
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        #property-summary:hover {
            background-color: rgba(63, 63, 70, 0.3); /* zinc-700 30% */
        }
        #property-details-list {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out;
            border-top: 1px solid transparent;
        }
        #property-summary[open] #property-details-list {
            max-height: 500px; /* Adjust as needed */
            margin-top: 1rem;
            padding-top: 1rem;
            border-top-color: #3f3f46; /* zinc-700 */
        }
        #property-summary summary::-webkit-details-marker {
            display: none;
        }
        #property-summary summary {
            list-style: none;
            outline: none;
        }
    </style>
</head>
<body class="min-h-screen w-full">

    <!-- 1. HEADER / NAVIGATION -->
    <header class="sticky top-0 z-50 w-full glass-effect shadow-lg">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <!-- Left Side: Logo / Title -->
                <div class="flex items-center space-x-2">
                    <i data-lucide="user-round" class="text-amber-500"></i>
                    <span class="text-xl font-bold text-white uppercase">GTA My Assets</span>
                </div>

                <!-- Right Side: Main Menu -->
                <nav class="hidden md:flex items-center space-x-1">
                    <a href="#" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-zinc-300 hover:bg-zinc-700 hover:text-white transition-colors">OVERVIEW</a>
                    <a href="#" class="nav-link active px-3 py-2 rounded-md text-sm font-medium text-zinc-300 hover:bg-zinc-700 hover:text-white transition-colors">VEHICLES</a>
                    <a href="#" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-zinc-300 hover:bg-zinc-700 hover:text-white transition-colors">STATS</a>
                    <a href="#" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-zinc-300 hover:bg-zinc-700 hover:text-white transition-colors">WEAPONS</a>
                    <a href="#" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-zinc-300 hover:bg-zinc-700 hover:text-white transition-colors">AWARDS</a>
                </nav>

                <!-- Mobile Menu Button -->
                <div class="md:hidden">
                    <button id="mobile-menu-btn" class="text-zinc-300 hover:text-white">
                        <i data-lucide="menu"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu (Hidden) -->
        <div id="mobile-menu" class="md:hidden hidden glass-effect">
            <nav class="flex flex-col px-2 pt-2 pb-3 space-y-1">
                <a href="#" class="nav-link block px-3 py-2 rounded-md text-base font-medium text-zinc-300 hover:bg-zinc-700 hover:text-white transition-colors">OVERVIEW</a>
                <a href="#" class="nav-link active block px-3 py-2 rounded-md text-base font-medium text-zinc-300 hover:bg-zinc-700 hover:text-white transition-colors">VEHICLES</a>
                <a href="#" class="nav-link block px-3 py-2 rounded-md text-base font-medium text-zinc-300 hover:bg-zinc-700 hover:text-white transition-colors">STATS</a>
                <a href="#" class="nav-link block px-3 py-2 rounded-md text-base font-medium text-zinc-300 hover:bg-zinc-700 hover:text-white transition-colors">WEAPONS</a>
                <a href="#" class="nav-link block px-3 py-2 rounded-md text-base font-medium text-zinc-300 hover:bg-zinc-700 hover:text-white transition-colors">AWARDS</a>
            </nav>
        </div>
    </header>

    <!-- 2. MAIN CONTENT SECTION -->
    <main class="container mx-auto p-4 md:p-6">
        
        <!-- NEW ASSET SUMMARY SECTION (Replaces Stat Boxes) -->
        <section id="asset-summary" class="glass-effect rounded-lg shadow-lg p-4 md:p-6 mb-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                
                <!-- Column 1: Asset List -->
                <div id="asset-summary-list-1" class="col-span-1 md:col-span-1 space-y-3">
                    <!-- JS will populate this -->
                </div>

                <!-- Column 2: Asset List -->
                <div id="asset-summary-list-2" class="col-span-1 md:col-span-1 space-y-3">
                    <!-- JS will populate this -->
                </div>

                <!-- Column 3: Totals -->
                <div class="col-span-1 md:col-span-1 flex flex-col justify-between space-y-4">
                    
                    <!-- NEW: Expandable Properties -->
                    <details id="property-summary" class="glass-effect p-4 rounded-lg shadow-md border border-zinc-700/50">
                        <summary class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <i data-lucide="warehouse" class="text-amber-500 w-8 h-8"></i>
                                <div>
                                    <span class="text-xs text-zinc-400 uppercase">Properties</span>
                                    <span id="total-properties-count" class="text-xl font-bold text-white block">0 Properties</span>
                                </div>
                            </div>
                            <div class="text-right">
                                <span class="text-green-400 font-semibold block" id="total-properties-value">$0</span>
                                <span class="text-xs text-zinc-400">(Click to expand)</span>
                            </div>
                        </summary>
                        <div id="property-details-list" class="space-y-2">
                            <!-- JS will populate this -->
                        </div>
                    </details>
                    
                    <!-- Total Asset Value -->
                    <div class="glass-effect p-4 rounded-lg shadow-md flex flex-col justify-between bg-amber-500/10 border border-amber-500/50">
                        <div class="flex items-center space-x-3">
                            <i data-lucide="dollar-sign" class="text-amber-400 w-8 h-8"></i>
                            <div>
                                <span class="text-xs text-amber-300 uppercase">Total Assets</span>
                                <span class="text-xs text-zinc-400">(Property + Vehicles)</span>
                            </div>
                        </div>
                        <div class="text-right mt-2">
                            <span id="total-value" class="text-3xl font-extrabold text-white block">$0</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- VEHICLE GALLERY SECTION -->
        <section id="vehicle-gallery" class="glass-effect rounded-lg shadow-lg p-4 md:p-6">
            
            <!-- Title and Filtering -->
            <div class="flex flex-col md:flex-row items-center justify-between mb-6">
                <!-- NEW DYNAMIC TITLE (Garages, Types, Websites) -->
                <h1 id="dynamic-gallery-title" class="text-4xl font-extrabold text-white uppercase tracking-wide mb-4 md:mb-0">
                    Garages
                </h1>
                
                <!-- MOVED SORT BY TO THE RIGHT -->
                <div class="flex items-center space-x-4">
                    <span class="text-zinc-400 font-medium hidden sm:block">Sort By:</span>
                    <!-- NEW SORT BUTTONS STYLE -->
                    <div class="flex" role="group">
                        <button id="sort-by-garage" class="btn-sort active">
                            Garage
                        </button>
                        <button id="sort-by-type" class="btn-sort">
                            Type
                        </button>
                        <button id="sort-by-website" class="btn-sort">
                            Website
                        </button>
                        <!-- NEW "BRAND" BUTTON -->
                        <button id="sort-by-brand" class="btn-sort">
                            Brand
                        </button>
                    </div>
                </div>
            </div>

            <!-- Filter Buttons Area (NEW STYLE) -->
            <div id="filter-buttons-container" class="mb-4 flex flex-wrap items-center -mx-2">
                <!-- JavaScript will populate this with .btn-filter -->
            </div>

            <!-- Separator -->
            <hr class="border-zinc-700 mb-6">

            <!-- Displayed Vehicle Info -->
            <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
                <!-- NEW STYLE FOR GALLERY TITLE -->
                <h2 id="gallery-title" class="text-3xl font-bold text-white mb-2 md:mb-0">All Garages</h2>
                <div class="flex items-center space-x-4">
                    <span class="text-zinc-400">
                        <span id="filtered-count" class="font-bold text-white">0</span> Vehicles
                    </span>
                    <!-- Property Value Display -->
                    <div id="property-cost-display" class="glass-effect p-2 px-3 rounded-lg flex-col items-center hidden border border-blue-500/50 bg-blue-500/10">
                        <span class="text-xs text-blue-300 uppercase">Property Value</span>
                        <span id="property-cost-value" class="text-lg font-bold text-white">$0</span>
                    </div>
                    <!-- Displayed Total Value -->
                    <div class="glass-effect p-2 px-3 rounded-lg flex-col items-center border border-green-500/50 bg-green-500/10">
                         <span class="text-xs text-green-300 uppercase">Displayed Value</span>
                        <span id="filtered-value" class="text-lg font-bold text-white">$0</span>
                    </div>
                </div>
            </div>

            <!-- Vehicle Cards Area -->
            <div id="vehicle-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- JavaScript will populate this -->
            </div>
            
            <!-- Loading... (Empty State) -->
            <div id="no-results" class="hidden text-center py-16">
                <i data-lucide="search-x" class="w-16 h-16 text-zinc-600 mx-auto mb-4"></i>
                <h3 class="text-xl font-semibold text-white">No Vehicles Found</h3>
                <p class="text-zinc-400">No vehicles match the selected filter.</p>
            </div>

        </section>

    </main>

    <!-- 3. FOOTER -->
    <footer class="mt-12 pb-6 text-center">
        <p class="text-sm text-zinc-500">&copy; <span id="current-year">2024</span> Personal Garage Project. All rights reserved.</p>
    </footer>

    <!-- 4. JAVASCRIPT -->
    <script>
        // --- DATA ---
        // ALL GARAGE and VEHICLE DATA
        // NOTE: basePrice = Base Price, upgradePrice = Estimated "Fully Upgraded" Cost
        const mockData = {
            garages: [
                // "Fully Upgraded" Prices for Properties
                // Note: 'id' must match vehicles.garageId
                { id: 'penthouse', name: 'Penthouse', basePrice: 1500000, upgradePrice: 5375000 }, // Casino Penthouse + All Extras
                { id: 'exceptionalists', name: 'Exceptionalists', basePrice: 112500, upgradePrice: 0 }, // Garage Only
                { id: 'supply', name: '331 Supply', basePrice: 109000, upgradePrice: 0 }, // Garage Only
                { id: 'apartment', name: 'Apartment', basePrice: 1100000, upgradePrice: 600000 }, // Eclipse Towers Apt 31 + All Interiors
                { id: 'wild', name: '3655 Wild', basePrice: 120000, upgradePrice: 0 }, // Garage Only
                { id: 'clubhouse', name: 'Clubhouse', basePrice: 495000, upgradePrice: 1200000 }, // Most expensive MC Clubhouse + All Upgrades
                { id: 'unit2', name: 'Unit 2', basePrice: 135000, upgradePrice: 0 }, // 10-Car Garage Only
                { id: 'office1', name: 'Office 1', basePrice: 4000000, upgradePrice: 4435000 }, // Maze Bank Tower + All Upgrades (incl. Garage 1,2,3)
                { id: 'office2', name: 'Office 2', basePrice: 0, upgradePrice: 0 }, // Cost included in Office 1
                { id: 'office3', name: 'Office 3', basePrice: 0, upgradePrice: 0 }, // Cost included in Office 1
                { id: 'facility', name: 'Facility', basePrice: 2950000, upgradePrice: 4075000 }, // Most expensive Facility + Orbital Cannon etc.
                { id: 'nightclub_service', name: 'Nightclub Service', basePrice: 1080000, upgradePrice: 3500000 }, // Most expensive Nightclub + All Upgrades
                { id: 'nightclub_b2', name: 'Nightclub B2', basePrice: 0, upgradePrice: 0 }, // Cost included in main Nightclub
                { id: 'nightclub_b3', name: 'Nightclub B3', basePrice: 0, upgradePrice: 0 }, // Cost included in main Nightclub
                { id: 'arena', name: 'Arena Workshop', basePrice: 995000, upgradePrice: 3500000 }, // Arena + All Upgrades (Benny's etc.)
                { id: 'arena_b2', name: 'Arena B2', basePrice: 0, upgradePrice: 0 }, // Cost included in Arena
                { id: 'casino', name: 'Casino', basePrice: 900000, upgradePrice: 0 }, // Casino Paddock Garage
                { id: 'arcade', name: 'Arcade', basePrice: 1875000, upgradePrice: 2200000 }, // La Mesa Arcade + All Upgrades (MCT etc.)
                
                // These are just for grouping vehicles, no property cost
                // Their costs are already listed as vehicles under 'Services'
                { id: 'terrorbyte', name: 'Terrorbyte', basePrice: 0, upgradePrice: 0 },
                { id: 'special_vehicle', name: 'Special Vehicle', basePrice: 0, upgradePrice: 0 },
                { id: 'aircraft', name: 'Personal Aircraft', basePrice: 0, upgradePrice: 0 },
                { id: 'services', name: 'Services', basePrice: 0, upgradePrice: 0 },
                { id: 'mini_vehicles', name: 'Mini Vehicles', basePrice: 0, upgradePrice: 0 },
                { id: 'pegasus', name: 'Pegasus', basePrice: 0, upgradePrice: 0 }
            ],
            // FIXED: Removed 'armored' type, it's now part of 'weaponized'
            types: [
                { id: 'super', name: 'Super' },
                { id: 'sports', name: 'Sports' },
                { id: 'classic', name: 'Classic' },
                { id: 'muscle', name: 'Muscle' },
                { id: 'offroad', name: 'Off-Road' },
                { id: 'sedan', name: 'Sedan' },
                { id: 'suv', name: 'SUV' },
                { id: 'coupe', name: 'Coupe' },
                { id: 'motorcycle', name: 'Motorcycle' },
                { id: 'weaponized', name: 'Weaponized' },
                // { id: 'armored', name: 'Armored' }, // REMOVED
                { id: 'aircraft', name: 'Aircraft' },
                { id: 'helicopter', name: 'Helicopter' },
                { id: 'service', name: 'Service' },
                { id: 'special', name: 'Special' },
                { id: 'open_wheel', name: 'Open Wheel' },
                { id: 'arena', name: 'Arena War' },
                { id: 'utility', name: 'Utility' },
                { id: 'sea_vehicle', name: 'Sea Vehicle' },
                { id: 'bicycle', name: 'Bicycle' },
                { id: 'rc', name: 'Remote Control' } // New type for Mini
            ],
            websites: [
                { id: 'legendary', name: 'Legendary Motorsport' },
                { id: 'warstock', name: 'Warstock Cache & Carry' },
                { id: 'ssas', name: 'S. San Andreas Super Autos' },
                { id: 'bennys', name: "Benny's Original Motor Works" },
                { id: 'arena', name: 'Arena War' },
                { id: 'elitastravel', name: 'Elitás Travel' },
                { id: 'docktease', name: 'DockTease' },
                { id: 'dynasty8', name: 'Dynasty 8' }, // For Properties
                { id: 'other', name: 'Other / Street' }
            ],
            // NEW: BRANDS ARRAY
            brands: [
                { id: 'albany', name: 'Albany' },
                { id: 'annis', name: 'Annis' },
                { id: 'benefactor', name: 'Benefactor' },
                { id: 'bravado', name: 'Bravado' },
                { id: 'brute', name: 'Brute' },
                { id: 'buckingham', name: 'Buckingham' },
                { id: 'canis', name: 'Canis' },
                { id: 'chariot', name: 'Chariot' },
                { id: 'coil', name: 'Coil' },
                { id: 'declasse', name: 'Declasse' },
                { id: 'dewbauchee', name: 'Dewbauchee' },
                { id: 'dinka', name: 'Dinka' },
                { id: 'enus', name: 'Enus' },
                { id: 'gallivanter', name: 'Gallivanter' },
                { id: 'generic', name: 'Generic' }, // For Blimp, etc.
                { id: 'grotti', name: 'Grotti' },
                { id: 'hvy', name: 'HVY' },
                { id: 'imponte', name: 'Imponte' },
                { id: 'invetero', name: 'Invetero' },
                { id: 'joiblt', name: 'JoBuilt' },
                { id: 'karin', name: 'Karin' },
                { id: 'lampadati', name: 'Lampadati' },
                { id: 'lcc', name: 'LCC' },
                { id: 'maibatsu', name: 'Maibatsu' },
                { id: 'mammoth', name: 'Mammoth' },
                { id: 'mtl', name: 'MTL' },
                { id: 'nagasaki', name: 'Nagasaki' },
                { id: 'obey', name: 'Obey' },
                { id: 'ocelot', name: 'Ocelot' },
                { id: 'overflod', name: 'Overflod' },
                { id: 'pegassi', name: 'Pegassi' },
                { id: 'pfister', name: 'Pfister' },
                { id: 'progen', name: 'Progen' },
                { id: 'rc', name: 'RC' }, // For RC vehicles
                { id: 'rmc', name: 'RMC' }, // For Kosatka
                { id: 'ruiner', name: 'Ruiner' }, // Ruiner 2000
                { id: 'schyster', name: 'Schyster' },
                { id: 'shitzu', name: 'Shitzu' },
                { id: 'stanley', name: 'Stanley' }, // Duster
                { id: 'truffade', name: 'Truffade' },
                { id: 'ubermacht', name: 'Ubermacht' },
                { id: 'vapid', name: 'Vapid' },
                { id: 'volatol', name: 'Volatol' }, // Volatol
                { id: 'vulkcar', name: 'Vulcar' },
                { id: 'weeny', name: 'Weeny' },
                { id: 'western', name: 'Western' },
                { id: 'willard', name: 'Willard' },
                { id: 'zirconium', name: 'Zirconium' }
            ],
            // FIXED: All 'type' properties are now lowercase and 'brandId' is added
            vehicles: [
                // PENTHOUSE (10 VEHICLES)
                {
                    name: 'Streiter', brandId: 'benefactor', type: 'sports', garageId: 'penthouse', websiteId: 'ssas', update: 'Doomsday Heist',
                    image: 'images/vehicle/streiter.jpg',
                    basePrice: 500000, upgradePrice: 850000 // Imani Tech + Weapons
                },
                {
                    name: 'Schwartzer GT', brandId: 'benefactor', type: 'sports', garageId: 'penthouse', websiteId: 'legendary', update: 'After Hours',
                    image: 'images/vehicle/schwartzer_gt.jpg',
                    basePrice: 1380000, upgradePrice: 400000
                },
                {
                    name: 'Schwartzer', brandId: 'benefactor', type: 'sports', garageId: 'penthouse', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/schwartzer.jpg',
                    basePrice: 80000, upgradePrice: 300000
                },
                {
                    name: 'Scafter', brandId: 'benefactor', type: 'sedan', garageId: 'penthouse', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/scafter.jpg',
                    basePrice: 65000, upgradePrice: 300000
                },
                {
                    name: 'Krieger', brandId: 'benefactor', type: 'super', garageId: 'penthouse', websiteId: 'legendary', update: 'Diamond Casino',
                    image: 'images/vehicle/krieger.jpg',
                    basePrice: 2875000, upgradePrice: 400000
                },
                {
                    name: 'Dubsta', brandId: 'benefactor', type: 'offroad', garageId: 'penthouse', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/dubsta.jpg',
                    basePrice: 70000, upgradePrice: 300000
                },
                {
                    name: 'Rocoto', brandId: 'lampadati', type: 'suv', garageId: 'penthouse', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/rocoto.jpg',
                    basePrice: 85000, upgradePrice: 300000
                },
                {
                    name: '8F Drafter', brandId: 'obey', type: 'sports', garageId: 'penthouse', websiteId: 'legendary', update: 'Diamond Casino',
                    image: 'images/vehicle/8f_drafter.jpg',
                    basePrice: 718000, upgradePrice: 1200000 // HSW + Imani
                },
                {
                    name: 'Tailgater S', brandId: 'obey', type: 'sedan', garageId: 'penthouse', websiteId: 'legendary', update: 'Tuners',
                    image: 'images/vehicle/tailgater.jpg', // Original 'Taligater' corrected to 'Tailgater S'
                    basePrice: 1495000, upgradePrice: 1000000 // Imani Tech
                },
                {
                    name: '9F Cabrio', brandId: 'pfister', type: 'sports', garageId: 'penthouse', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/9f_cabrio.jpg',
                    basePrice: 130000, upgradePrice: 300000
                },

                // EXCEPTIONALISTS (10 VEHICLES)
                {
                    name: 'APC', brandId: 'hvy', type: 'weaponized', garageId: 'exceptionalists', websiteId: 'warstock', update: 'Gunrunning',
                    image: 'images/vehicle/apc.jpg',
                    basePrice: 3092250, upgradePrice: 800000 // Missiles + Armor
                },
                {
                    name: 'Insurgent', brandId: 'hvy', type: 'weaponized', garageId: 'exceptionalists', websiteId: 'warstock', update: 'Heists',
                    image: 'images/vehicle/insurgent.jpg',
                    basePrice: 897750, upgradePrice: 300000
                },
                {
                    name: 'Caracara', brandId: 'vapid', type: 'offroad', garageId: 'exceptionalists', websiteId: 'warstock', update: 'SA Super Sport',
                    image: 'images/vehicle/caracara.jpg',
                    basePrice: 1775000, upgradePrice: 600000 // Weapons
                },
                {
                    name: 'Weaponized Tampa', brandId: 'declasse', type: 'weaponized', garageId: 'exceptionalists', websiteId: 'warstock', update: 'Gunrunning',
                    image: 'images/vehicle/wep_tampa.jpg',
                    basePrice: 2108050, upgradePrice: 1200000 // All weapons (Dual minigun, missiles, mines)
                },
                {
                    name: 'Duke O\'Death', brandId: 'imponte', type: 'weaponized', garageId: 'exceptionalists', websiteId: 'warstock', update: 'Returning Player',
                    image: 'images/vehicle/duke.jpg',
                    basePrice: 665000, upgradePrice: 0 // Already armored
                },
                {
                    name: 'Insurgent Pick-Up Custom', brandId: 'hvy', type: 'weaponized', garageId: 'exceptionalists', websiteId: 'warstock', update: 'Gunrunning',
                    image: 'images/vehicle/ins_pick-up.jpg',
                    basePrice: 1795000, upgradePrice: 1202500 // Base Pegasus Cost + MOC Conversion + Weapons/Armor
                },
                {
                    name: 'Half-track', brandId: 'bravado', type: 'weaponized', garageId: 'exceptionalists', websiteId: 'warstock', update: 'Gunrunning',
                    image: 'images/vehicle/half-track.jpg',
                    basePrice: 2254350, upgradePrice: 800000 // Quad Cannon + Armor
                },
                {
                    name: 'Dubsta (6x6)', brandId: 'benefactor', type: 'offroad', garageId: 'exceptionalists', websiteId: 'warstock', update: 'Hipster',
                    image: 'images/vehicle/dubsta_6x6.jpg', // Different from other Dubsta
                    basePrice: 249000, upgradePrice: 300000
                },
                {
                    name: 'Mesa (Merryweather)', brandId: 'canis', type: 'offroad', garageId: 'exceptionalists', websiteId: 'warstock', update: 'Default',
                    image: 'images/vehicle/mesa.jpg',
                    basePrice: 87000, upgradePrice: 300000
                },
                {
                    name: 'Nightshark', brandId: 'hvy', type: 'weaponized', garageId: 'exceptionalists', websiteId: 'warstock', update: 'Gunrunning',
                    image: 'images/vehicle/nightshark.jpg',
                    basePrice: 1245000, upgradePrice: 400000 // Armor and weapons only (no performance)
                },

                // 331 SUPPLY (10 VEHICLES)
                {
                    name: 'Moonbeam Custom', brandId: 'declasse', type: 'muscle', garageId: 'supply', websiteId: 'bennys', update: 'Lowriders',
                    image: 'images/vehicle/moonbeam.jpg',
                    basePrice: 32500, upgradePrice: 800000 // Benny's upgrade + mods
                },
                {
                    name: 'Rat-Loader', brandId: 'bravado', type: 'muscle', garageId: 'supply', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/rat-loader.jpg',
                    basePrice: 6000, upgradePrice: 350000 // Extensive mods
                },
                {
                    name: 'Lurcher', brandId: 'albany', type: 'muscle', garageId: 'supply', websiteId: 'ssas', update: 'Halloween',
                    image: 'images/vehicle/lurcher.jpg',
                    basePrice: 650000, upgradePrice: 300000
                },
                {
                    name: 'Rapid GT', brandId: 'dewbauchee', type: 'sports', garageId: 'supply', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/rapid_gt.jpg',
                    basePrice: 132000, upgradePrice: 300000
                },
                {
                    name: 'GB200', brandId: 'vapid', type: 'sports', garageId: 'supply', websiteId: 'legendary', update: 'SA Super Sport',
                    image: 'images/vehicle/gb200.jpg',
                    basePrice: 940000, upgradePrice: 400000
                },
                {
                    name: 'Desert Raid', brandId: 'vapid', type: 'offroad', garageId: 'supply', websiteId: 'legendary', update: 'Cunning Stunts',
                    image: 'images/vehicle/desert_raid.jpg',
                    basePrice: 695000, upgradePrice: 350000
                },
                {
                    name: 'Tornado Rat Rod', brandId: 'vapid', type: 'classic', garageId: 'supply', websiteId: 'bennys', update: 'Bikers',
                    image: 'images/vehicle/tornado_rat.jpg',
                    basePrice: 378000, upgradePrice: 400000
                },
                {
                    name: 'Fränken Stange', brandId: 'albany', type: 'classic', garageId: 'supply', websiteId: 'ssas', update: 'Halloween',
                    image: 'images/vehicle/franken.jpg',
                    basePrice: 550000, upgradePrice: 300000
                },
                {
                    name: 'Sentinel Classic', brandId: 'ubermacht', type: 'classic', garageId: 'supply', websiteId: 'ssas', update: 'Doomsday',
                    image: 'images/vehicle/sentinel_classic.jpg',
                    basePrice: 650000, upgradePrice: 400000
                },
                {
                    name: 'Slamvan Custom', brandId: 'vapid', type: 'muscle', garageId: 'supply', websiteId: 'bennys', update: 'Lowriders',
                    image: 'images/vehicle/slamvan_c.jpg',
                    basePrice: 49500, upgradePrice: 900000 // Benny's upgrade + mods
                },

                // APARTMENT (10 VEHICLES)
                {
                    name: 'Baller', brandId: 'gallivanter', type: 'suv', garageId: 'apartment', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/baller.jpg',
                    basePrice: 90000, upgradePrice: 300000
                },
                {
                    name: 'Oracle XS', brandId: 'ubermacht', type: 'coupe', garageId: 'apartment', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/oracle_xs.jpg',
                    basePrice: 80000, upgradePrice: 300000
                },
                {
                    name: 'Oracle', brandId: 'ubermacht', type: 'coupe', garageId: 'apartment', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/oracle.jpg',
                    basePrice: 80000, upgradePrice: 300000
                },
                {
                    name: 'Zion', brandId: 'ubermacht', type: 'coupe', garageId: 'apartment', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/zion.jpg',
                    basePrice: 60000, upgradePrice: 300000
                },
                {
                    name: 'Zion Cabrio', brandId: 'ubermacht', type: 'coupe', garageId: 'apartment', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/zion_cabrio.jpg',
                    basePrice: 65000, upgradePrice: 300000
                },
                {
                    name: 'Zion Classic', brandId: 'ubermacht', type: 'classic', garageId: 'apartment', websiteId: 'ssas', update: 'Diamond Casino',
                    image: 'images/vehicle/zion_classic.jpg',
                    basePrice: 812000, upgradePrice: 400000
                },
                {
                    name: 'SC1', brandId: 'ubermacht', type: 'super', garageId: 'apartment', websiteId: 'legendary', update: 'Doomsday',
                    image: 'images/vehicle/sc1.jpg',
                    basePrice: 1603000, upgradePrice: 400000
                },
                {
                    name: 'Baller', brandId: 'gallivanter', type: 'suv', garageId: 'apartment', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/baller_2.jpg', // Different image path for second Baller
                    basePrice: 90000, upgradePrice: 300000
                },
                {
                    name: 'Sentinel XS', brandId: 'ubermacht', type: 'coupe', garageId: 'apartment', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/sentinel_xs.jpg',
                    basePrice: 60000, upgradePrice: 350000
                },
                {
                    name: 'Revolter', brandId: 'ubermacht', type: 'sports', garageId: 'apartment', websiteId: 'legendary', update: 'Doomsday',
                    image: 'images/vehicle/revolter.jpg',
                    basePrice: 1610000, upgradePrice: 850000 // Imani Tech + Weapons
                },

                // 3655 WILD (2 VEHICLES)
                {
                    name: 'V-STR', brandId: 'benefactor', type: 'sports', garageId: 'wild', websiteId: 'legendary', update: 'Diamond Casino Heist',
                    image: 'images/vehicle/vstr.jpg',
                    basePrice: 1285000, upgradePrice: 850000 // Imani Tech + Weapons
                },
                {
                    name: 'Taipan', brandId: 'cheval', type: 'super', garageId: 'wild', websiteId: 'legendary', update: 'Gunrunning',
                    image: 'images/vehicle/taipan.jpg',
                    basePrice: 1980000, upgradePrice: 400000
                },
                
                // CLUBHOUSE (10 VEHICLES)
                {
                    name: 'Avarus', brandId: 'lcc', type: 'motorcycle', garageId: 'clubhouse', websiteId: 'ssas', update: 'Bikers',
                    image: 'images/vehicle/avarus.jpg',
                    basePrice: 118000, upgradePrice: 300000
                },
                {
                    name: 'Daemon', brandId: 'western', type: 'motorcycle', garageId: 'clubhouse', websiteId: 'bennys', update: 'Bikers',
                    image: 'images/vehicle/daemon.jpg',
                    basePrice: 145000, upgradePrice: 300000 // Benny's
                },
                {
                    name: 'Shotaro', brandId: 'nagasaki', type: 'motorcycle', garageId: 'clubhouse', websiteId: 'legendary', update: 'Bikers',
                    image: 'images/vehicle/shotaro.jpg',
                    basePrice: 2225000, upgradePrice: 300000
                },
                {
                    name: 'Diabolus Custom', brandId: 'lcc', type: 'motorcycle', garageId: 'clubhouse', websiteId: 'bennys', update: 'Bikers',
                    image: 'images/vehicle/diabolus_custom.jpg',
                    basePrice: 130000, upgradePrice: 500000 // Benny's
                },
                {
                    name: 'Akuma', brandId: 'dinka', type: 'motorcycle', garageId: 'clubhouse', websiteId: 'ssas', update: 'Default',
                    image: 'images/vehicle/akuma.jpg',
                    basePrice: 9000, upgradePrice: 200000
                },
                {
                    name: 'Bati 801', brandId: 'pegassi', type: 'motorcycle', garageId: 'clubhouse', websiteId: 'ssas', update: 'Default',
                    image: 'images/vehicle/bati_801.jpg',
                    basePrice: 15000, upgradePrice: 200000
                },
                {
                    name: 'Oppressor', brandId: 'pegassi', type: 'motorcycle', garageId: 'clubhouse', websiteId: 'warstock', update: 'Gunrunning',
                    image: 'images/vehicle/oppressor.jpg',
                    basePrice: 2750000, upgradePrice: 800000 // Weapons (in MOC/Avenger)
                },
                {
                    name: 'Vortex', brandId: 'nagasaki', type: 'motorcycle', garageId: 'clubhouse', websiteId: 'ssas', update: 'Bikers',
                    image: 'images/vehicle/vortex.jpg',
                    basePrice: 356000, upgradePrice: 300000
                },
                {
                    name: 'Nightblade', brandId: 'western', type: 'motorcycle', garageId: 'clubhouse', websiteId: 'ssas', update: 'Bikers',
                    image: 'images/vehicle/nightblade.jpg',
                    basePrice: 100000, upgradePrice: 300000
                },
                {
                    name: 'Sanctus', brandId: 'lcc', type: 'motorcycle', garageId: 'clubhouse', websiteId: 'ssas', update: 'Bikers',
                    image: 'images/vehicle/sanctus.jpg',
                    basePrice: 1995000, upgradePrice: 300000
                },

                // UNIT 2 (10 VEHICLES)
                {
                    name: 'Everon', brandId: 'karin', type: 'offroad', garageId: 'unit2', websiteId: 'ssas', update: 'Diamond Casino Heist',
                    image: 'images/vehicle/everon.jpg',
                    basePrice: 1475000, upgradePrice: 700000 // Imani Tech
                },
                {
                    name: 'Toreador', brandId: 'pegassi', type: 'weaponized', garageId: 'unit2', websiteId: 'warstock', update: 'Cayo Perico',
                    image: 'images/vehicle/toreador.jpg',
                    basePrice: 4250000, upgradePrice: 100000 // Weapons included
                },
                {
                    name: 'Imorgon', brandId: 'overflod', type: 'sports', garageId: 'unit2', websiteId: 'legendary', update: 'Diamond Casino Heist',
                    image: 'images/vehicle/imorgon.jpg',
                    basePrice: 2165000, upgradePrice: 400000
                },
                {
                    name: 'Itali GTO', brandId: 'grotti', type: 'sports', garageId: 'unit2', websiteId: 'legendary', update: 'Arena War',
                    image: 'images/vehicle/itali_gto.jpg',
                    basePrice: 1965000, upgradePrice: 400000
                },
                {
                    name: 'Raptor', brandId: 'bravado', type: 'sports', garageId: 'unit2', websiteId: 'legendary', update: 'Bikers',
                    image: 'images/vehicle/raptor.jpg',
                    basePrice: 648000, upgradePrice: 350000
                },
                {
                    name: 'Toros', brandId: 'pegassi', type: 'suv', garageId: 'unit2', websiteId: 'legendary', update: 'Arena War',
                    image: 'images/vehicle/toros.jpg',
                    basePrice: 498000, upgradePrice: 350000
                },
                {
                    name: 'Flash GT', brandId: 'vapid', type: 'sports', garageId: 'unit2', websiteId: 'legendary', update: 'SA Super Sport',
                    image: 'images/vehicle/flash_gt.jpg',
                    basePrice: 1675000, upgradePrice: 400000
                },
                {
                    name: 'Lynx', brandId: 'ocelot', type: 'sports', garageId: 'unit2', websiteId: 'legendary', update: 'Cunning Stunts',
                    image: 'images/vehicle/lynx.jpg',
                    basePrice: 1735000, upgradePrice: 400000
                },
                {
                    name: 'Locust', brandId: 'ocelot', type: 'sports', garageId: 'unit2', websiteId: 'legendary', update: 'Diamond Casino',
                    image: 'images/vehicle/locust.jpg',
                    basePrice: 1625000, upgradePrice: 400000
                },
                {
                    name: 'Schlagen GT', brandId: 'benefactor', type: 'sports', garageId: 'unit2', websiteId: 'legendary', update: 'Arena War',
                    image: 'images/vehicle/schlagen_gt.jpg',
                    basePrice: 1300000, upgradePrice: 400000
                },

                // OFFICE 1 (20 VEHICLES)
                {
                    name: 'Michelli GT', brandId: 'lampadati', type: 'classic', garageId: 'office1', websiteId: 'ssas', update: 'SA Super Sport',
                    image: 'images/vehicle/michelli_gt.jpg',
                    basePrice: 525000, upgradePrice: 300000
                },
                {
                    name: 'Stafford', brandId: 'enus', type: 'classic', garageId: 'office1', websiteId: 'legendary', update: 'After Hours',
                    image: 'images/vehicle/stafford.jpg',
                    basePrice: 1280000, upgradePrice: 850000 // Imani Tech
                },
                {
                    name: 'Swinger', brandId: 'ocelot', type: 'classic', garageId: 'office1', websiteId: 'legendary', update: 'After Hours',
                    image: 'images/vehicle/swinger.jpg',
                    basePrice: 909000, upgradePrice: 300000
                },
                {
                    name: 'Mamba', brandId: 'declasse', type: 'classic', garageId: 'office1', websiteId: 'legendary', update: 'Executives',
                    image: 'images/vehicle/mamba.jpg',
                    basePrice: 990000, upgradePrice: 300000
                },
                {
                    name: 'Stirling GT', brandId: 'benefactor', type: 'classic', garageId: 'office1', websiteId: 'legendary', update: 'Heists',
                    image: 'images/vehicle/stirling_gt.jpg',
                    basePrice: 975000, upgradePrice: 1000000 // HSW
                },
                {
                    name: 'Monroe', brandId: 'pegassi', type: 'classic', garageId: 'office1', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/monroe.jpg',
                    basePrice: 490000, upgradePrice: 300000
                },
                {
                    name: 'Nero Custom', brandId: 'truffade', type: 'super', garageId: 'office1', websiteId: 'bennys', update: 'Import/Export',
                    image: 'images/vehicle/nero_custom.jpg',
                    basePrice: 1440000, upgradePrice: 1005000 // 605k Benny's + 400k
                },
                {
                    name: 'X80 Proto', brandId: 'grotti', type: 'super', garageId: 'office1', websiteId: 'legendary', update: 'Further Adventures',
                    image: 'images/vehicle/x80_proto.jpg',
                    basePrice: 2700000, upgradePrice: 400000
                },
                {
                    name: 'Visione', brandId: 'grotti', type: 'super', garageId: 'office1', websiteId: 'legendary', update: 'Smuggler\'s Run',
                    image: 'images/vehicle/visione.jpg',
                    basePrice: 2250000, upgradePrice: 400000
                },
                {
                    name: 'Cyclone', brandId: 'coil', type: 'super', garageId: 'office1', websiteId: 'legendary', update: 'Smuggler\'s Run',
                    image: 'images/vehicle/cyclone.jpg',
                    basePrice: 1890000, upgradePrice: 400000
                },
                {
                    name: 'Osiris', brandId: 'pegassi', type: 'super', garageId: 'office1', websiteId: 'legendary', update: 'Ill-Gotten Gains',
                    image: 'images/vehicle/osiris.jpg',
                    basePrice: 1950000, upgradePrice: 400000
                },
                {
                    name: 'Banshee 900R', brandId: 'bravado', type: 'super', garageId: 'office1', websiteId: 'bennys', update: 'Default',
                    image: 'images/vehicle/banshee_900r.jpg',
                    basePrice: 105000, upgradePrice: 965000 // 565k Benny's + 400k
                },
                {
                    name: 'Verlierer', brandId: 'bravado', type: 'sports', garageId: 'office1', websiteId: 'legendary', update: 'Executives',
                    image: 'images/vehicle/verlierer.jpg',
                    basePrice: 695000, upgradePrice: 350000
                },
                {
                    name: 'Emerus', brandId: 'progen', type: 'super', garageId: 'office1', websiteId: 'legendary', update: 'Diamond Casino',
                    image: 'images/vehicle/emerus.jpg',
                    basePrice: 2750000, upgradePrice: 400000
                },
                {
                    name: 'Issi Sport', brandId: 'weeny', type: 'sports', garageId: 'office1', websiteId: 'ssas', update: 'Arena War',
                    image: 'images/vehicle/issi_sport.jpg',
                    basePrice: 897000, upgradePrice: 400000
                },
                {
                    name: 'Torero', brandId: 'lampadati', type: 'classic', garageId: 'office1', websiteId: 'legendary', update: 'Gunrunning',
                    image: 'images/vehicle/torero.jpg',
                    basePrice: 998000, upgradePrice: 300000
                },
                {
                    name: 'Zorrusso', brandId: 'pegassi', type: 'super', garageId: 'office1', websiteId: 'legendary', update: 'Diamond Casino',
                    image: 'images/vehicle/zorrusso.jpg',
                    basePrice: 1925000, upgradePrice: 400000
                },
                {
                    name: 'Neon', brandId: 'pfister', type: 'sports', garageId: 'office1', websiteId: 'legendary', update: 'Doomsday',
                    image: 'images/vehicle/neon.jpg',
                    basePrice: 1500000, upgradePrice: 400000
                },
                {
                    name: 'GP1', brandId: 'progen', type: 'super', garageId: 'office1', websiteId: 'legendary', update: 'Cunning Stunts',
                    image: 'images/vehicle/gp1.jpg',
                    basePrice: 1260000, upgradePrice: 400000
                },
                {
                    name: 'Comet SR', brandId: 'pfister', type: 'sports', garageId: 'office1', websiteId: 'legendary', update: 'Doomsday',
                    image: 'images/vehicle/comet_sr.jpg',
                    basePrice: 1145000, upgradePrice: 400000
                },

                // OFFICE 2 (19 VEHICLES)
                {
                    name: 'Manana', brandId: 'albany', type: 'classic', garageId: 'office2', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/manana.jpg',
                    basePrice: 10000, upgradePrice: 250000
                },
                {
                    name: 'Roosevelt', brandId: 'albany', type: 'classic', garageId: 'office2', websiteId: 'legendary', update: 'Valentine\'s Day',
                    image: 'images/vehicle/roosevelt.jpg',
                    basePrice: 750000, upgradePrice: 300000
                },
                {
                    name: 'Infernus Classic', brandId: 'pegassi', type: 'classic', garageId: 'office2', websiteId: 'legendary', update: 'Cunning Stunts',
                    image: 'images/vehicle/infernus_classic.jpg',
                    basePrice: 915000, upgradePrice: 300000
                },
                {
                    name: 'Turismo Classic', brandId: 'grotti', type: 'classic', garageId: 'office2', websiteId: 'legendary', update: 'Cunning Stunts',
                    image: 'images/vehicle/turismo_classic.jpg',
                    basePrice: 705000, upgradePrice: 300000
                },
                {
                    name: 'Z-Type', brandId: 'truffade', type: 'classic', garageId: 'office2', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/z_type.jpg',
                    basePrice: 950000, upgradePrice: 300000
                },
                {
                    name: 'Alpha', brandId: 'albany', type: 'sports', garageId: 'office2', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/alpha.jpg',
                    basePrice: 150000, upgradePrice: 300000
                },
                {
                    name: 'Nightshade', brandId: 'imponte', type: 'muscle', garageId: 'office2', websiteId: 'legendary', update: 'Executives',
                    image: 'images/vehicle/nightshade.jpg',
                    basePrice: 585000, upgradePrice: 300000
                },
                {
                    name: 'Elegy RH8', brandId: 'annis', type: 'sports', garageId: 'office2', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/elegy_rh8.jpg',
                    basePrice: 0, upgradePrice: 400000
                },
                {
                    name: 'Neo', brandId: 'pfister', type: 'sports', garageId: 'office2', websiteId: 'legendary', update: 'Diamond Casino',
                    image: 'images/vehicle/neo.jpg',
                    basePrice: 1875000, upgradePrice: 400000
                },
                {
                    name: 'S80RR', brandId: 'annis', type: 'super', garageId: 'office2', websiteId: 'legendary', update: 'Diamond Casino',
                    image: 'images/vehicle/s80rr.jpg',
                    basePrice: 2575000, upgradePrice: 400000
                },
                {
                    name: 'Ruston', brandId: 'hijak', type: 'sports', garageId: 'office2', websiteId: 'legendary', update: 'Cunning Stunts',
                    image: 'images/vehicle/ruston.jpg',
                    basePrice: 430000, upgradePrice: 300000
                },
                {
                    name: 'Autarch', brandId: 'overflod', type: 'super', garageId: 'office2', websiteId: 'legendary', update: 'Doomsday',
                    image: 'images/vehicle/autarch.jpg',
                    basePrice: 1955000, upgradePrice: 400000
                },
                {
                    name: 'Tyrus', brandId: 'progen', type: 'super', garageId: 'office2', websiteId: 'legendary', update: 'Cunning Stunts',
                    image: 'images/vehicle/tyrus.jpg',
                    basePrice: 2550000, upgradePrice: 400000
                },
                {
                    name: 'Jester', brandId: 'dinka', type: 'sports', garageId: 'office2', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/jester.jpg',
                    basePrice: 240000, upgradePrice: 350000
                },
                {
                    name: 'Itali GTB', brandId: 'progen', type: 'super', garageId: 'office2', websiteId: 'legendary', update: 'Import/Export',
                    image: 'images/vehicle/itali_gtb.jpg',
                    basePrice: 1189000, upgradePrice: 300000
                },
                {
                    name: 'Massacro', brandId: 'dewbauchee', type: 'sports', garageId: 'office2', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/massacro.jpg',
                    basePrice: 275000, upgradePrice: 350000
                },
                {
                    name: 'ETR1', brandId: 'emperor', type: 'super', garageId: 'office2', websiteId: 'legendary', update: 'Cunning Stunts',
                    image: 'images/vehicle/etr1.jpg',
                    basePrice: 1995000, upgradePrice: 400000
                },
                {
                    name: 'Drift Tampa', brandId: 'declasse', type: 'sports', garageId: 'office2', websiteId: 'ssas', update: 'Cunning Stunts',
                    image: 'images/vehicle/drift_tampa.jpg',
                    basePrice: 995000, upgradePrice: 400000
                },
                {
                    name: 'RE-7B', brandId: 'annis', type: 'super', garageId: 'office2', websiteId: 'legendary', update: 'Cunning Stunts',
                    image: 'images/vehicle/re_7b.jpg',
                    basePrice: 2475000, upgradePrice: 400000
                },

                // OFFICE 3 (20 VEHICLES)
                {
                    name: 'Turismo R', brandId: 'grotti', type: 'super', garageId: 'office3', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/turismo_r.jpg',
                    basePrice: 500000, upgradePrice: 400000
                },
                {
                    name: 'Reaper', brandId: 'pegassi', type: 'super', garageId: 'office3', websiteId: 'legendary', update: 'Further Adventures',
                    image: 'images/vehicle/reaper.jpg',
                    basePrice: 1595000, upgradePrice: 400000
                },
                {
                    name: 'T20', brandId: 'progen', type: 'super', garageId: 'office3', websiteId: 'legendary', update: 'Ill-Gotten Gains',
                    image: 'images/vehicle/t20.jpg',
                    basePrice: 2200000, upgradePrice: 400000
                },
                {
                    name: 'XA-21', brandId: 'ocelot', type: 'super', garageId: 'office3', websiteId: 'legendary', update: 'Gunrunning',
                    image: 'images/vehicle/xa_21.jpg',
                    basePrice: 2375000, upgradePrice: 400000
                },
                {
                    name: 'Cheetah', brandId: 'grotti', type: 'super', garageId: 'office3', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/cheetah.jpg',
                    basePrice: 650000, upgradePrice: 400000
                },
                {
                    name: '811', brandId: 'pfister', type: 'super', garageId: 'office3', websiteId: 'legendary', update: 'Further Adventures',
                    image: 'images/vehicle/811.jpg',
                    basePrice: 1135000, upgradePrice: 400000
                },
                {
                    name: 'Infernus', brandId: 'pegassi', type: 'super', garageId: 'office3', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/infernus.jpg',
                    basePrice: 440000, upgradePrice: 350000
                },
                {
                    name: 'Tezeract', brandId: 'pegassi', type: 'super', garageId: 'office3', websiteId: 'legendary', update: 'SA Super Sport',
                    image: 'images/vehicle/tezeract.jpg',
                    basePrice: 2825000, upgradePrice: 400000
                },
                {
                    name: 'Tyrant', brandId: 'overflod', type: 'super', garageId: 'office3', websiteId: 'legendary', update: 'SA Super Sport',
                    image: 'images/vehicle/tyrant.jpg',
                    basePrice: 2515000, upgradePrice: 400000
                },
                {
                    name: 'Specter Custom', brandId: 'dewbauchee', type: 'sports', garageId: 'office3', websiteId: 'bennys', update: 'Import/Export',
                    image: 'images/vehicle/specter_custom.jpg',
                    basePrice: 599000, upgradePrice: 642000 // 252k Benny's + 390k
                },
                {
                    name: 'Itali GTB Custom', brandId: 'progen', type: 'super', garageId: 'office3', websiteId: 'bennys', update: 'Import/Export',
                    image: 'images/vehicle/itali_gtb_custom.jpg',
                    basePrice: 1189000, upgradePrice: 895000 // 495k Benny's + 400k
                },
                {
                    name: 'Vacca', brandId: 'pegassi', type: 'super', garageId: 'office3', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/vacca.jpg',
                    basePrice: 240000, upgradePrice: 350000
                },
                {
                    name: 'Vagner', brandId: 'dewbauchee', type: 'super', garageId: 'office3', websiteId: 'legendary', update: 'Gunrunning',
                    image: 'images/vehicle/vagner.jpg',
                    basePrice: 1535000, upgradePrice: 400000
                },
                {
                    name: 'Zentorno', brandId: 'pegassi', type: 'super', garageId: 'office3', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/zentorno.jpg',
                    basePrice: 725000, upgradePrice: 400000
                },
                {
                    name: 'Deveste Eight', brandId: 'prince', type: 'super', garageId: 'office3', websiteId: 'legendary', update: 'Arena War',
                    image: 'images/vehicle/deveste_eight.jpg',
                    basePrice: 1795000, upgradePrice: 1000000 // HSW
                },
                {
                    name: 'Entity XXR', brandId: 'overflod', type: 'super', garageId: 'office3', websiteId: 'legendary', update: 'SA Super Sport',
                    image: 'images/vehicle/entity_xxr.jpg',
                    basePrice: 2305000, upgradePrice: 400000
                },
                {
                    name: 'Entity XF', brandId: 'overflod', type: 'super', garageId: 'office3', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/entity_xf.jpg',
                    basePrice: 795000, upgradePrice: 400000
                },
                {
                    name: 'FMJ', brandId: 'vapid', type: 'super', garageId: 'office3', websiteId: 'legendary', update: 'Further Adventures',
                    image: 'images/vehicle/fmj.jpg',
                    basePrice: 1750000, upgradePrice: 400000
                },
                {
                    name: 'Tempesta', brandId: 'pegassi', type: 'super', garageId: 'office3', websiteId: 'legendary', update: 'Import/Export',
                    image: 'images/vehicle/tempesta.jpg',
                    basePrice: 1329000, upgradePrice: 400000
                },
                {
                    name: 'Adder', brandId: 'truffade', type: 'super', garageId: 'office3', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/adder.jpg',
                    basePrice: 1000000, upgradePrice: 400000
                },
                
                // FACILITY (3 VEHICLES)
                {
                    name: 'Chernobog', brandId: 'hvy', type: 'weaponized', garageId: 'facility', websiteId: 'warstock', update: 'Doomsday Heist',
                    image: 'images/vehicle/chernobog.jpg',
                    basePrice: 3311700, upgradePrice: 100000
                },
                {
                    name: 'TM-02 Khanjali', brandId: 'hvy', type: 'weaponized', garageId: 'facility', websiteId: 'warstock', update: 'Doomsday Heist',
                    image: 'images/vehicle/khanjali.jpg',
                    basePrice: 3850350, upgradePrice: 500000 // Railgun + Armor
                },
                {
                    name: 'Thruster', brandId: 'mammoth', type: 'weaponized', garageId: 'facility', websiteId: 'warstock', update: 'Doomsday Heist',
                    image: 'images/vehicle/thruster.jpg',
                    basePrice: 3657500, upgradePrice: 300000 // Missiles
                },

                // NIGHTCLUB SERVICE (4 VEHICLES - Menacer + 3 Delivery)
                {
                    name: 'Menacer', brandId: 'hvy', type: 'weaponized', garageId: 'nightclub_service', websiteId: 'warstock', update: 'After Hours',
                    image: 'images/vehicle/menacer.jpg',
                    basePrice: 1775000, upgradePrice: 700000 // Full armor + Dual Minigun
                },
                {
                    name: 'Speedo Custom', brandId: 'vapid', type: 'weaponized', garageId: 'nightclub_service', websiteId: 'warstock', update: 'After Hours',
                    image: 'images/vehicle/speedo_custom.jpg',
                    basePrice: 0, upgradePrice: 500000 // Included with NC, full upgrades
                },
                {
                    name: 'Mule Custom', brandId: 'maibatsu', type: 'weaponized', garageId: 'nightclub_service', websiteId: 'warstock', update: 'After Hours',
                    image: 'images/vehicle/mule_custom.jpg',
                    basePrice: 95760, upgradePrice: 500000 // Base vehicle + full upgrades
                },
                {
                    name: 'Pounder Custom', brandId: 'mtl', type: 'weaponized', garageId: 'nightclub_service', websiteId: 'warstock', update: 'After Hours',
                    image: 'images/vehicle/pounder_custom.jpg',
                    basePrice: 320530, upgradePrice: 600000 // Base vehicle + full upgrades
                },


                // NIGHTCLUB B2 (10 VEHICLES)
                {
                    name: 'Raiden', brandId: 'coil', type: 'sports', garageId: 'nightclub_b2', websiteId: 'legendary', update: 'Doomsday Heist',
                    image: 'images/vehicle/raiden.jpg',
                    basePrice: 1375000, upgradePrice: 400000
                },
                {
                    name: 'Chino Custom', brandId: 'vapid', type: 'muscle', garageId: 'nightclub_b2', websiteId: 'bennys', update: 'Lowriders',
                    image: 'images/vehicle/chino_custom.jpg',
                    basePrice: 225000, upgradePrice: 600000 // Benny's
                },
                {
                    name: 'Pariah', brandId: 'ocelot', type: 'sports', garageId: 'nightclub_b2', websiteId: 'legendary', update: 'Doomsday Heist',
                    image: 'images/vehicle/pariah.jpg',
                    basePrice: 1420000, upgradePrice: 400000
                },
                {
                    name: 'Ardent', brandId: 'ocelot', type: 'classic', garageId: 'nightclub_b2', websiteId: 'warstock', update: 'Gunrunning',
                    image: 'images/vehicle/ardent.jpg',
                    basePrice: 1150000, upgradePrice: 400000 // Weapons
                },
                {
                    name: 'Scramjet', brandId: 'declasse', type: 'weaponized', garageId: 'nightclub_b2', websiteId: 'warstock', update: 'After Hours',
                    image: 'images/vehicle/scramjet.jpg',
                    basePrice: 4000000, upgradePrice: 500000 // Weapons
                },
                {
                    name: 'Elegy Retro Custom', brandId: 'annis', type: 'classic', garageId: 'nightclub_b2', websiteId: 'bennys', update: 'Import/Export',
                    image: 'images/vehicle/elegy_retro.jpg',
                    basePrice: 0, upgradePrice: 1304000 // 904k Benny's + 400k
                },
                {
                    name: 'Felon', brandId: 'lampadati', type: 'coupe', garageId: 'nightclub_b2', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/felon.jpg',
                    basePrice: 100000, upgradePrice: 300000
                },
                {
                    name: 'Super Diamond', brandId: 'enus', type: 'sedan', garageId: 'nightclub_b2', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/super_diamond.jpg',
                    basePrice: 250000, upgradePrice: 300000
                },
                {
                    name: 'Baller', brandId: 'gallivanter', type: 'suv', garageId: 'nightclub_b2', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/baller_3.jpg',
                    basePrice: 90000, upgradePrice: 300000
                },
                {
                    name: 'Patriot Stretch', brandId: 'mammoth', type: 'utility', garageId: 'nightclub_b2', websiteId: 'ssas', update: 'After Hours',
                    image: 'images/vehicle/patriot_stretch.jpg',
                    basePrice: 60000, upgradePrice: 300000
                },

                // NIGHTCLUB B3 (10 VEHICLES)
                {
                    name: 'Windsor Drop', brandId: 'enus', type: 'coupe', garageId: 'nightclub_b3', websiteId: 'legendary', update: 'Ill-Gotten Gains',
                    image: 'images/vehicle/windsor_drop.jpg', // 'Windsor L' assumed 'Windsor Drop'
                    basePrice: 900000, upgradePrice: 300000
                },
                {
                    name: 'Felon', brandId: 'lampadati', type: 'coupe', garageId: 'nightclub_b3', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/felon_2.jpg',
                    basePrice: 100000, upgradePrice: 300000
                },
                {
                    name: 'Schwartzer', brandId: 'benefactor', type: 'sports', garageId: 'nightclub_b3', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/schwartzer_2.jpg',
                    basePrice: 80000, upgradePrice: 300000
                },
                {
                    name: 'Felon', brandId: 'lampadati', type: 'coupe', garageId: 'nightclub_b3', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/felon_3.jpg',
                    basePrice: 100000, upgradePrice: 300000
                },
                {
                    name: 'Seven-70', brandId: 'dewbauchee', type: 'sports', garageId: 'nightclub_b3', websiteId: 'legendary', update: 'Further Adventures',
                    image: 'images/vehicle/seven_70.jpg',
                    basePrice: 695000, upgradePrice: 350000
                },
                {
                    name: 'Thrax', brandId: 'truffade', type: 'super', garageId: 'nightclub_b3', websiteId: 'legendary', update: 'Diamond Casino',
                    image: 'images/vehicle/thrax.jpg',
                    basePrice: 2325000, upgradePrice: 400000
                },
                {
                    name: 'Nero Custom', brandId: 'truffade', type: 'super', garageId: 'nightclub_b3', websiteId: 'bennys', update: 'Import/Export',
                    image: 'images/vehicle/nero_custom_2.jpg',
                    basePrice: 1440000, upgradePrice: 1005000 // 605k Benny's + 400k

                },
                {
                    name: 'Adder', brandId: 'truffade', type: 'super', garageId: 'nightclub_b3', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/adder_2.jpg',
                    basePrice: 1000000, upgradePrice: 400000
                },
                {
                    name: 'Nero', brandId: 'truffade', type: 'super', garageId: 'nightclub_b3', websiteId: 'legendary', update: 'Import/Export',
                    image: 'images/vehicle/nero.jpg',
                    basePrice: 1440000, upgradePrice: 400000
                },
                {
                    name: 'Surfer', brandId: 'bf', type: 'utility', garageId: 'nightclub_b3', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/surfer.jpg',
                    basePrice: 11000, upgradePrice: 200000
                },

                // ARENA WORKSHOP (10 VEHICLES) - PRICES FIXED
                {
                    name: 'Future Shock ZR380', brandId: 'annis', type: 'arena', garageId: 'arena', websiteId: 'arena', update: 'Arena War',
                    image: 'images/vehicle/fs_zr380.jpg',
                    basePrice: 2138640, upgradePrice: 2000000 // Base car + Arena conversion + upgrades
                },
                {
                    name: 'Apocalypse Imperator', brandId: 'vapid', type: 'arena', garageId: 'arena', websiteId: 'arena', update: 'Arena War',
                    image: 'images/vehicle/apoc_imperator.jpg',
                    basePrice: 2284940, upgradePrice: 2000000
                },
                {
                    name: 'Nightmare Scarab', brandId: 'hvy', type: 'arena', garageId: 'arena', websiteId: 'arena', update: 'Arena War',
                    image: 'images/vehicle/nm_scarab.jpg',
                    basePrice: 3076290, upgradePrice: 1500000 // Tank
                },
                {
                    name: 'Nightmare Brutus', brandId: 'brute', type: 'arena', garageId: 'arena', websiteId: 'arena', update: 'Arena War',
                    image: 'images/vehicle/nm_brutus.jpg',
                    basePrice: 2666666, upgradePrice: 2000000 // Monster Truck
                },
                {
                    name: 'Apocalypse Cerberus', brandId: 'mtl', type: 'arena', garageId: 'arena', websiteId: 'arena', update: 'Arena War',
                    image: 'images/vehicle/apoc_cerberus.jpg',
                    basePrice: 3870300, upgradePrice: 1500000 // Truck
                },
                {
                    name: 'Hotring Sabre', brandId: 'declasse', type: 'sports', garageId: 'arena', websiteId: 'ssas', update: 'SA Super Sport',
                    image: 'images/vehicle/hotring_sabre.jpg',
                    basePrice: 830000, upgradePrice: 300000 // Limited upgrades
                },
                {
                    name: 'Apocalypse Gauntlet', brandId: 'bravado', type: 'arena', garageId: 'arena', websiteId: 'arena', update: 'Arena War',
                    image: 'images/vehicle/apoc_gauntlet.jpg',
                    basePrice: 745000, upgradePrice: 2820000 // $1.32M conversion + $1.5M upgrades
                },
                {
                    name: 'Nightmare Issi', brandId: 'weeny', type: 'arena', garageId: 'arena', websiteId: 'arena', update: 'Arena War',
                    image: 'images/vehicle/nm_issi.jpg',
                    basePrice: 360000, upgradePrice: 2589000 // $1.089M conversion + $1.5M upgrades
                },
                {
                    name: 'Elegy RH8 (Arena)', brandId: 'annis', type: 'sports', garageId: 'arena', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/elegy_rh8_arena.jpg',
                    basePrice: 0, upgradePrice: 400000
                },
                {
                    name: 'Elegy RH8 (Arena)', brandId: 'annis', type: 'sports', garageId: 'arena', websiteId: 'legendary', update: 'Default',
                    image: 'images/vehicle/elegy_rh8_arena_2.jpg',
                    basePrice: 0, upgradePrice: 400000
                },

                // ARENA B2 (9 VEHICLES) - PRICES FIXED
                {
                    name: 'FQ 2', brandId: 'vapid', type: 'suv', garageId: 'arena_b2', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/fq2.jpg',
                    basePrice: 50000, upgradePrice: 300000
                },
                {
                    name: 'Dominator', brandId: 'vapid', type: 'muscle', garageId: 'arena_b2', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/dominator.jpg',
                    basePrice: 35000, upgradePrice: 300000
                },
                {
                    name: 'Fusilade', brandId: 'schyster', type: 'sports', garageId: 'arena_b2', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/fusilade.jpg',
                    basePrice: 36000, upgradePrice: 300000
                },
                {
                    name: 'Sabre Turbo', brandId: 'declasse', type: 'muscle', garageId: 'arena_b2', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/sabre_turbo.jpg',
                    basePrice: 15000, upgradePrice: 300000
                },
                {
                    name: 'Minivan', brandId: 'vapid', type: 'utility', garageId: 'arena_b2', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/minivan.jpg',
                    basePrice: 30000, upgradePrice: 250000
                },
                {
                    name: 'Komoda', brandId: 'lampadati', type: 'sports', garageId: 'arena_b2', websiteId: 'ssas', update: 'Diamond Casino Heist',
                    image: 'images/vehicle/komoda.jpg',
                    basePrice: 1700000, upgradePrice: 400000
                },
                {
                    name: 'Buffalo', brandId: 'bravado', type: 'sports', garageId: 'arena_b2', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/buffalo.jpg',
                    basePrice: 35000, upgradePrice: 300000
                },
                {
                    name: 'Patriot Stretch', brandId: 'mammoth', type: 'utility', garageId: 'arena_b2', websiteId: 'ssas', update: 'After Hours',
                    image: 'images/vehicle/patriot_stretch_2.jpg',
                    basePrice: 60000, upgradePrice: 300000
                },
                {
                    name: 'Future Shock Issi', brandId: 'weeny', type: 'arena', garageId: 'arena_b2', websiteId: 'arena', update: 'Arena War',
                    image: 'images/vehicle/fs_issi.jpg',
                    basePrice: 360000, upgradePrice: 2589000 // $1.089M conversion + $1.5M upgrades
                },

                // CASINO (9 VEHICLES)
                {
                    name: 'Clique', brandId: 'vapid', type: 'muscle', garageId: 'casino', websiteId: 'legendary', update: 'Festive Surprise 2018',
                    image: 'images/vehicle/clique.jpg',
                    basePrice: 909000, upgradePrice: 350000
                },
                {
                    name: 'Vamos', brandId: 'declasse', type: 'muscle', garageId: 'casino', websiteId: 'ssas', update: 'Arena War',
                    image: 'images/vehicle/vamos.jpg',
                    basePrice: 596000, upgradePrice: 350000
                },
                {
                    name: 'Hermes', brandId: 'albany', type: 'muscle', garageId: 'casino', websiteId: 'ssas', update: 'Festive Surprise 2017',
                    image: 'images/vehicle/hermes.jpg',
                    basePrice: 535000, upgradePrice: 350000
                },
                {
                    name: 'Brioso 300', brandId: 'grotti', type: 'classic', garageId: 'casino', websiteId: 'ssas', update: 'Cayo Perico Heist',
                    image: 'images/vehicle/brioso_300.jpg',
                    basePrice: 610000, upgradePrice: 300000
                },
                {
                    name: 'Peyote', brandId: 'vapid', type: 'classic', garageId: 'casino', websiteId: 'other', update: 'Default',
                    image: 'images/vehicle/peyote.jpg',
                    basePrice: 12000, upgradePrice: 250000
                },
                {
                    name: 'Coquette BlackFin', brandId: 'invetero', type: 'classic', garageId: 'casino', websiteId: 'legendary', update: 'Ill-Gotten Gains',
                    image: 'images/vehicle/coquette_blackfin.jpg',
                    basePrice: 695000, upgradePrice: 350000
                },
                {
                    name: 'Stallion', brandId: 'declasse', type: 'muscle', garageId: 'casino', websiteId: 'ssas', update: 'Default',
                    image: 'images/vehicle/stallion.jpg',
                    basePrice: 38000, upgradePrice: 300000
                },
                {
                    name: 'Dukes', brandId: 'imponte', type: 'muscle', garageId: 'casino', websiteId: 'ssas', update: 'Default',
                    image: 'images/vehicle/dukes.jpg',
                    basePrice: 62000, upgradePrice: 300000
                },
                {
                    name: 'Buccaneer', brandId: 'albany', type: 'muscle', garageId: 'casino', websiteId: 'ssas', update: 'Default',
                    image: 'images/vehicle/buccaneer.jpg',
                    basePrice: 29000, upgradePrice: 300000 // (Benny's is an option, but not specified)
                },

                // ARCADE (9 VEHICLES) - PRICES FIXED
                {
                    name: 'Kuruma (Armored)', brandId: 'karin', type: 'weaponized', garageId: 'arcade', websiteId: 'ssas', update: 'Heists',
                    image: 'images/vehicle/kuruma_armored.jpg',
                    basePrice: 698250, upgradePrice: 350000
                },
                {
                    name: 'Half-track', brandId: 'bravado', type: 'weaponized', garageId: 'arcade', websiteId: 'warstock', update: 'Gunrunning',
                    image: 'images/vehicle/half-track_2.jpg',
                    basePrice: 2254350, upgradePrice: 800000 // Quad Cannon + Armor
                },
                {
                    name: 'BR8', brandId: 'benefactor', type: 'open_wheel', garageId: 'arcade', websiteId: 'legendary', update: 'Summer Special',
                    image: 'images/vehicle/br8.jpg',
                    basePrice: 3400000, upgradePrice: 300000
                },
                {
                    name: 'PR4', brandId: 'progen', type: 'open_wheel', garageId: 'arcade', websiteId: 'legendary', update: 'Diamond Casino Heist',
                    image: 'images/vehicle/pr4.jpg',
                    basePrice: 3515000, upgradePrice: 300000
                },
                {
                    name: 'DR1', brandId: 'progen', type: 'open_wheel', garageId: 'arcade', websiteId: 'legendary', update: 'Summer Special',
                    image: 'images/vehicle/dr1.jpg',
                    basePrice: 2997000, upgradePrice: 300000
                },
                {
                    name: 'Deluxo', brandId: 'imponte', type: 'weaponized', garageId: 'arcade', websiteId: 'warstock', update: 'Doomsday Heist',
                    image: 'images/vehicle/deluxo.jpg',
                    basePrice: 5750000, upgradePrice: 750000 // Weapons + Performance
                },
                {
                    name: 'Paragon R (Armored)', brandId: 'enus', type: 'weaponized', garageId: 'arcade', websiteId: 'legendary', update: 'Diamond Casino',
                    image: 'images/vehicle/paragon_r_armored.jpg',
                    basePrice: 905000, upgradePrice: 400000 // Free from missions, but has purchase price
                },
                {
                    name: 'Vigilante', brandId: 'grotti', type: 'weaponized', garageId: 'arcade', websiteId: 'warstock', update: 'Smuggler\'s Run',
                    image: 'images/vehicle/vigilante.jpg',
                    basePrice: 3750000, upgradePrice: 750000 // Weapons + Performance
                },
                {
                    name: 'Future Shock Issi', brandId: 'weeny', type: 'arena', garageId: 'arcade', websiteId: 'arena', update: 'Arena War',
                    image: 'images/vehicle/fs_issi_2.jpg',
                    basePrice: 360000, upgradePrice: 2589000 // $1.089M conversion + $1.5M upgrades
                },

                // TERRORBYTE (1 VEHICLE)
                {
                    name: 'Oppressor Mk II', brandId: 'pegassi', type: 'motorcycle', garageId: 'terrorbyte', websiteId: 'warstock', update: 'After Hours',
                    image: 'images/vehicle/oppressor_mk2.jpg',
                    basePrice: 8000000, upgradePrice: 1500000 // Missiles, Chaff, etc.
                },
                
                // SPECIAL VEHICLE (8 VEHICLES)
                {
                    name: 'Phantom Wedge', brandId: 'joby', type: 'special', garageId: 'special_vehicle', websiteId: 'warstock', update: 'Import/Export',
                    image: 'images/vehicle/phantom_wedge.jpg',
                    basePrice: 2553600, upgradePrice: 0 // No upgrades
                },
                {
                    name: 'Ruiner 2000', brandId: 'imponte', type: 'special', garageId: 'special_vehicle', websiteId: 'warstock', update: 'Import/Export',
                    image: 'images/vehicle/ruiner_2000.jpg',
                    basePrice: 5745600, upgradePrice: 0 // No upgrades
                },
                {
                    name: 'Technical Aqua', brandId: 'nagasaki', type: 'special', garageId: 'special_vehicle', websiteId: 'warstock', update: 'Import/Export',
                    image: 'images/vehicle/technical_aqua.jpg',
                    basePrice: 1489600, upgradePrice: 0 // No upgrades
                },
                {
                    name: 'Wastelander', brandId: 'mtl', type: 'special', garageId: 'special_vehicle', websiteId: 'warstock', update: 'Import/Export',
                    image: 'images/vehicle/wastelander.jpg',
                    basePrice: 658350, upgradePrice: 0 // No upgrades
                },
                {
                    name: 'Armored Boxville', brandId: 'brute', type: 'special', garageId: 'special_vehicle', websiteId: 'warstock', update: 'Import/Export',
                    image: 'images/vehicle/armored_boxville.jpg',
                    basePrice: 2926000, upgradePrice: 0 // No upgrades
                },
                {
                    name: 'Rocket Voltic', brandId: 'coil', type: 'special', garageId: 'special_vehicle', websiteId: 'warstock', update: 'Import/Export',
                    image: 'images/vehicle/rocket_voltic.jpg',
                    basePrice: 3830400, upgradePrice: 0 // No upgrades
                },
                {
                    name: 'Ramp Buggy', brandId: 'bf', type: 'special', garageId: 'special_vehicle', websiteId: 'warstock', update: 'Import/Export',
                    image: 'images/vehicle/ramp_buggy.jpg',
                    basePrice: 3192000, upgradePrice: 0 // No upgrades
                },
                {
                    name: 'Blazer Aqua', brandId: 'nagasaki', type: 'special', garageId: 'special_vehicle', websiteId: 'warstock', update: 'Import/Export',
                    image: 'images/vehicle/blazer_aqua.jpg',
                    basePrice: 1755600, upgradePrice: 0 // No upgrades
                },

                // PERSONAL AIRCRAFT (20 VEHICLES)
                {
                    name: 'Tula', brandId: 'mammoth', type: 'aircraft', garageId: 'aircraft', websiteId: 'warstock', update: 'Smuggler\'s Run',
                    image: 'images/vehicle/tula.jpg',
                    basePrice: 5173700, upgradePrice: 1000000 // Bombs, JATO, Weapons
                },
                {
                    name: 'Havok', brandId: 'nagasaki', type: 'helicopter', garageId: 'aircraft', websiteId: 'elitastravel', update: 'Smuggler\'s Run',
                    image: 'images/vehicle/havok.jpg',
                    basePrice: 2300900, upgradePrice: 500000 // Minigun
                },
                {
                    name: 'Mogul', brandId: 'mammoth', type: 'aircraft', garageId: 'aircraft', websiteId: 'warstock', update: 'Smuggler\'s Run',
                    image: 'images/vehicle/mogul.jpg',
                    basePrice: 3125500, upgradePrice: 800000 // Weapons, Bombs
                },
                {
                    name: 'Volatol', brandId: 'mammoth', type: 'aircraft', garageId: 'aircraft', websiteId: 'warstock', update: 'Doomsday Heist',
                    image: 'images/vehicle/volatol.jpg',
                    basePrice: 3724000, upgradePrice: 500000 // Bombs
                },
                {
                    name: 'Miljet', brandId: 'buckingham', type: 'aircraft', garageId: 'aircraft', websiteId: 'elitastravel', update: 'Default',
                    image: 'images/vehicle/miljet.jpg',
                    basePrice: 1700000, upgradePrice: 300000 // Performance
                },
                {
                    name: 'LF-22 Starling', brandId: 'western', type: 'aircraft', garageId: 'aircraft', websiteId: 'warstock', update: 'Smuggler\'s Run',
                    image: 'images/vehicle/starling.jpg',
                    basePrice: 3657500, upgradePrice: 800000 // Missiles, Bombs
                },
                {
                    name: 'Cuban 800', brandId: 'western', type: 'aircraft', garageId: 'aircraft', websiteId: 'elitastravel', update: 'Default',
                    image: 'images/vehicle/cuban_800.jpg',
                    basePrice: 240000, upgradePrice: 300000 // Performance
                },
                {
                    name: 'Pyro', brandId: 'buckingham', type: 'aircraft', garageId: 'aircraft', websiteId: 'warstock', update: 'Smuggler\'s Run',
                    image: 'images/vehicle/pyro.jpg',
                    basePrice: 4455500, upgradePrice: 800000 // Weapons
                },
                {
                    name: 'Volatus', brandId: 'buckingham', type: 'helicopter', garageId: 'aircraft', websiteId: 'elitastravel', update: 'Executives',
                    image: 'images/vehicle/volatus.jpg',
                    basePrice: 2295000, upgradePrice: 300000 // Performance
                },
                {
                    name: 'Hydra', brandId: 'mammoth', type: 'aircraft', garageId: 'aircraft', websiteId: 'warstock', update: 'Heists',
                    image: 'images/vehicle/hydra.jpg',
                    basePrice: 4000000, upgradePrice: 500000 // Performance
                },
                {
                    name: 'Rogue', brandId: 'western', type: 'aircraft', garageId: 'aircraft', websiteId: 'warstock', update: 'Smuggler\'s Run',
                    image: 'images/vehicle/rogue.jpg',
                    basePrice: 1596000, upgradePrice: 800000 // Weapons, Bombs
                },
                {
                    name: 'B-11 Strikeforce', brandId: 'mammoth', type: 'aircraft', garageId: 'aircraft', websiteId: 'warstock', update: 'After Hours',
                    image: 'images/vehicle/b11_strikeforce.jpg',
                    basePrice: 5000000, upgradePrice: 1000000 // Weapons, Bombs
                },
                {
                    name: 'V-65 Molotok', brandId: 'western', type: 'aircraft', garageId: 'aircraft', websiteId: 'warstock', update: 'Smuggler\'s Run',
                    image: 'images/vehicle/v65_molotok.jpg',
                    basePrice: 4788000, upgradePrice: 800000 // Weapons
                },
                {
                    name: 'RM-10 Bombushka', brandId: 'mammoth', type: 'aircraft', garageId: 'aircraft', websiteId: 'warstock', update: 'Smuggler\'s Run',
                    image: 'images/vehicle/bombushka.jpg',
                    basePrice: 5918500, upgradePrice: 1000000 // Weapons, JATO
                },
                {
                    name: 'Besra', brandId: 'western', type: 'aircraft', garageId: 'aircraft', websiteId: 'elitastravel', update: 'Default',
                    image: 'images/vehicle/besra.jpg',
                    basePrice: 1150000, upgradePrice: 300000 // Performance
                },
                {
                    name: 'Alpha-Z1', brandId: 'nagasaki', type: 'aircraft', garageId: 'aircraft', websiteId: 'elitastravel', update: 'Smuggler\'s Run',
                    image: 'images/vehicle/alpha_z1.jpg',
                    basePrice: 2121350, upgradePrice: 300000 // Performance
                },
                {
                    name: 'Akula', brandId: 'mammoth', type: 'helicopter', garageId: 'aircraft', websiteId: 'warstock', update: 'Doomsday Heist',
                    image: 'images/vehicle/akula.jpg',
                    basePrice: 4500000, upgradePrice: 1000000 // Stealth, Weapons, Bombs
                },
                {
                    name: 'Ultralight', brandId: 'nagasaki', type: 'aircraft', garageId: 'aircraft', websiteId: 'elitastravel', update: 'Smuggler\'s Run',
                    image: 'images/vehicle/ultralight.jpg',
                    basePrice: 665000, upgradePrice: 500000 // Engine, Minigun
                },
                {
                    name: 'P-996 LAZER', brandId: 'joby', type: 'aircraft', garageId: 'aircraft', websiteId: 'warstock', update: 'Smuggler\'s Run',
                    image: 'images/vehicle/lazer.jpg',
                    basePrice: 6500000, upgradePrice: 300000 // Performance (stolen from fort)
                },
                {
                    name: 'FH-1 Hunter', brandId: 'mammoth', type: 'helicopter', garageId: 'aircraft', websiteId: 'warstock', update: 'Smuggler\'s Run',
                    image: 'images/vehicle/hunter.jpg',
                    basePrice: 4123000, upgradePrice: 1000000 // Co-pilot cannon, Bombs
                },

                // SERVICES (These properties are listed as vehicles)
                {
                    name: 'Galaxy Super Yacht', brandId: 'shitzu', type: 'sea_vehicle', garageId: 'services', websiteId: 'docktease', update: 'Galaxy',
                    image: 'images/vehicle/yacht.jpg',
                    basePrice: 8000000, upgradePrice: 2000000 // Most expensive model + upgrades
                },
                {
                    name: 'MOC (Mobile Ops Center)', brandId: 'hvy', type: 'service', garageId: 'services', websiteId: 'warstock', update: 'Gunrunning',
                    image: 'images/vehicle/moc.jpg',
                    basePrice: 2790000, upgradePrice: 1500000 // Phantom Custom + Weapon/Vehicle Workshop
                },
                {
                    name: 'Avenger', brandId: 'mammoth', type: 'service', garageId: 'services', websiteId: 'warstock', update: 'Doomsday',
                    image: 'images/vehicle/avenger.jpg',
                    basePrice: 4787500, upgradePrice: 2000000 // Workshops + Weapons
                },
                {
                    name: 'Terrorbyte', brandId: 'benefactor', type: 'service', garageId: 'services', websiteId: 'warstock', update: 'After Hours',
                    image: 'images/vehicle/terrorbyte.jpg',
                    basePrice: 3459500, upgradePrice: 1000000 // Drone + Workshops
                },
                {
                    name: 'Kosatka', brandId: 'rmc', type: 'sea_vehicle', garageId: 'services', websiteId: 'warstock', update: 'Cayo Perico',
                    image: 'images/vehicle/kosatka.jpg',
                    basePrice: 2200000, upgradePrice: 6885000 // Fully loaded (Sparrow, Missiles, Sonar etc.)
                },
                
                // --- NEWLY ADDED ---

                // MINI VEHICLES (3 VEHICLES)
                {
                    name: 'Nano Drone', brandId: 'generic', type: 'rc', garageId: 'mini_vehicles', websiteId: 'warstock', update: 'Diamond Casino Heist',
                    image: 'images/vehicle/nano_drone.jpg',
                    basePrice: 0, upgradePrice: 0 // Included with Arcade
                },
                {
                    name: 'RC Bandito', brandId: 'rc', type: 'rc', garageId: 'mini_vehicles', websiteId: 'arena', update: 'Arena War',
                    image: 'images/vehicle/rc_bandito.jpg',
                    basePrice: 1590000, upgradePrice: 500000 // Bombs etc.
                },
                {
                    name: 'RC Tank', brandId: 'rc', type: 'rc', garageId: 'mini_vehicles', websiteId: 'warstock', update: 'Diamond Casino Heist',
                    image: 'images/vehicle/rc_tank.jpg',
                    basePrice: 2275000, upgradePrice: 0
                },
                
                // PEGASUS (27 VEHICLES)
                {
                    name: 'Insurgent Pick-Up', brandId: 'hvy', type: 'weaponized', garageId: 'pegasus', websiteId: 'warstock', update: 'Heists',
                    image: 'images/vehicle/insurgent_pickup_pegasus.jpg',
                    basePrice: 1795000, upgradePrice: 0 // Pegasus vehicle
                },
                {
                    name: 'Turreted Limo', brandId: 'benefactor', type: 'weaponized', garageId: 'pegasus', websiteId: 'warstock', update: 'Executives',
                    image: 'images/vehicle/turreted_limo.jpg',
                    basePrice: 1650000, upgradePrice: 0
                },
                {
                    name: 'Rhino Tank', brandId: 'hvy', type: 'weaponized', garageId: 'pegasus', websiteId: 'warstock', update: 'Default',
                    image: 'images/vehicle/rhino_tank.jpg',
                    basePrice: 1500000, upgradePrice: 0
                },
                {
                    name: 'Frogger', brandId: 'maibatsu', type: 'helicopter', garageId: 'pegasus', websiteId: 'elitastravel', update: 'Default',
                    image: 'images/vehicle/frogger.jpg',
                    basePrice: 1300000, upgradePrice: 0
                },
                {
                    name: 'Cargobob', brandId: 'western', type: 'helicopter', garageId: 'pegasus', websiteId: 'warstock', update: 'Default',
                    image: 'images/vehicle/cargobob.jpg',
                    basePrice: 1790000, upgradePrice: 0
                },
                {
                    name: 'Buzzard', brandId: 'nagasaki', type: 'helicopter', garageId: 'pegasus', websiteId: 'warstock', update: 'Default',
                    image: 'images/vehicle/buzzard.jpg',
                    basePrice: 1750000, upgradePrice: 0
                },
                {
                    name: 'Swift', brandId: 'buckingham', type: 'helicopter', garageId: 'pegasus', websiteId: 'elitastravel', update: 'Default',
                    image: 'images/vehicle/swift.jpg',
                    basePrice: 1500000, upgradePrice: 0
                },
                {
                    name: 'Swift Deluxe', brandId: 'buckingham', type: 'helicopter', garageId: 'pegasus', websiteId: 'elitastravel', update: 'Ill-Gotten Gains',
                    image: 'images/vehicle/swift_deluxe.jpg',
                    basePrice: 5150000, upgradePrice: 0
                },
                {
                    name: 'Savage', brandId: 'mammoth', type: 'helicopter', garageId: 'pegasus', websiteId: 'warstock', update: 'Heists',
                    image: 'images/vehicle/savage.jpg',
                    basePrice: 2593500, upgradePrice: 0
                },
                {
                    name: 'Duster', brandId: 'western', type: 'aircraft', garageId: 'pegasus', websiteId: 'elitastravel', update: 'Default',
                    image: 'images/vehicle/duster.jpg',
                    basePrice: 275000, upgradePrice: 0
                },
                {
                    name: 'Luxor', brandId: 'buckingham', type: 'aircraft', garageId: 'pegasus', websiteId: 'elitastravel', update: 'Default',
                    image: 'images/vehicle/luxor.jpg',
                    basePrice: 1625000, upgradePrice: 0
                },
                {
                    name: 'Luxor Deluxe', brandId: 'buckingham', type: 'aircraft', garageId: 'pegasus', websiteId: 'elitastravel', update: 'Ill-Gotten Gains',
                    image: 'images/vehicle/luxor_deluxe.jpg',
                    basePrice: 10000000, upgradePrice: 0
                },
                {
                    name: 'Titan', brandId: 'mammoth', type: 'aircraft', garageId: 'pegasus', websiteId: 'elitastravel', update: 'Default',
                    image: 'images/vehicle/titan.jpg',
                    basePrice: 2000000, upgradePrice: 0
                },
                {
                    name: 'Besra (Pegasus)', brandId: 'western', type: 'aircraft', garageId: 'pegasus', websiteId: 'elitastravel', update: 'Default',
                    image: 'images/vehicle/besra_pegasus.jpg',
                    basePrice: 1150000, upgradePrice: 0
                },
                {
                    name: 'Miljet (Pegasus)', brandId: 'buckingham', type: 'aircraft', garageId: 'pegasus', websiteId: 'elitastravel', update: 'Default',
                    image: 'images/vehicle/miljet_pegasus.jpg',
                    basePrice: 1700000, upgradePrice: 0
                },
                {
                    name: 'Dodo', brandId: 'mammoth', type: 'aircraft', garageId: 'pegasus', websiteId: 'elitastravel', update: 'Default',
                    image: 'images/vehicle/dodo.jpg',
                    basePrice: 500000, upgradePrice: 0
                },
                {
                    name: 'Hydra (Pegasus)', brandId: 'mammoth', type: 'aircraft', garageId: 'pegasus', websiteId: 'warstock', update: 'Heists',
                    image: 'images/vehicle/hydra_pegasus.jpg',
                    basePrice: 4000000, upgradePrice: 0
                },
                {
                    name: 'P-996 LAZER (Pegasus)', brandId: 'joby', type: 'aircraft', garageId: 'pegasus', websiteId: 'warstock', update: 'Smuggler\'s Run',
                    image: 'images/vehicle/lazer_pegasus.jpg',
                    basePrice: 6500000, upgradePrice: 0
                },
                {
                    name: 'Marquis', brandId: 'shitzu', type: 'sea_vehicle', garageId: 'pegasus', websiteId: 'docktease', update: 'Default',
                    image: 'images/vehicle/marquis.jpg',
                    basePrice: 413990, upgradePrice: 0
                },
                {
                    name: 'Seashark', brandId: 'shitzu', type: 'sea_vehicle', garageId: 'pegasus', websiteId: 'docktease', update: 'Default',
                    image: 'images/vehicle/seashark.jpg',
                    basePrice: 16899, upgradePrice: 0
                },
                {
                    name: 'Suntrap', brandId: 'shitzu', type: 'sea_vehicle', garageId: 'pegasus', websiteId: 'docktease', update: 'Default',
                    image: 'images/vehicle/suntrap.jpg',
                    basePrice: 25160, upgradePrice: 0
                },
                {
                    name: 'Speeder', brandId: 'pegassi', type: 'sea_vehicle', garageId: 'pegasus', websiteId: 'docktease', update: 'Default',
                    image: 'images/vehicle/speeder.jpg',
                    basePrice: 325000, upgradePrice: 0
                },
                {
                    name: 'Toro', brandId: 'lampadati', type: 'sea_vehicle', garageId: 'pegasus', websiteId: 'docktease', update: 'Default',
                    image: 'images/vehicle/toro.jpg',
                    basePrice: 1750000, upgradePrice: 0
                },
                {
                    name: 'Liberator', brandId: 'vapid', type: 'special', garageId: 'pegasus', websiteId: 'warstock', update: 'Independence Day',
                    image: 'images/vehicle/liberator.jpg',
                    basePrice: 742014, upgradePrice: 0
                },
                {
                    name: 'Marshall', brandId: 'cheval', type: 'special', garageId: 'pegasus', websiteId: 'warstock', update: 'Default',
                    image: 'images/vehicle/marshall.jpg',
                    basePrice: 500000, upgradePrice: 0
                },
                {
                    name: 'Journey', brandId: 'zirconium', type: 'utility', garageId: 'pegasus', websiteId: 'ssas', update: 'Default',
                    image: 'images/vehicle/journey.jpg',
                    basePrice: 15000, upgradePrice: 0
                },
                {
                    name: 'Stretch', brandId: 'dundreary', type: 'utility', garageId: 'pegasus', websiteId: 'ssas', update: 'Default',
                    image: 'images/vehicle/stretch.jpg',
                    basePrice: 30000, upgradePrice: 0
                },
                {
                    name: 'Dump', brandId: 'hvy', type: 'utility', garageId: 'pegasus', websiteId: 'warstock', update: 'Default',
                    image: 'images/vehicle/dump.jpg',
                    basePrice: 1000000, upgradePrice: 0
                },
                {
                    name: 'Kraken', brandId: 'kraken', type: 'sea_vehicle', garageId: 'pegasus', websiteId: 'docktease', update: 'Default',
                    image: 'images/vehicle/kraken.jpg',
                    basePrice: 1325000, upgradePrice: 0
                },
                {
                    name: 'Blimp', brandId: 'generic', type: 'aircraft', garageId: 'pegasus', websiteId: 'elitastravel', update: 'Default',
                    image: 'images/vehicle/blimp.jpg',
                    basePrice: 1190000, upgradePrice: 0
                },
                {
                    name: 'Blimp (Galaxy)', brandId: 'generic', type: 'aircraft', garageId: 'pegasus', websiteId: 'elitastravel', update: 'After Hours',
                    image: 'images/vehicle/blimp_galaxy.jpg',
                    basePrice: 1190000, upgradePrice: 0 // Assuming same price, livery
                },
                {
                    name: 'Festival Bus', brandId: 'vapid', type: 'utility', garageId: 'pegasus', websiteId: 'ssas', update: 'After Hours',
                    image: 'images/vehicle/festival_bus.jpg',
                    basePrice: 1842000, upgradePrice: 0
                }
            ]
        };

        // --- GLOBAL STATE ---
        let currentFilterType = 'garage'; // 'garage', 'type', 'website', or 'brand'
        let currentFilterId = 'all'; // 'all', 'penthouse', 'super', etc.

        // --- FORMATTERS ---
        const formatCurrency = (value) => {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                maximumFractionDigits: 0
            }).format(value);
        };

        // --- DOM ELEMENTS ---
        const $ = (selector) => document.querySelector(selector);
        const $$ = (selector) => document.querySelectorAll(selector);

        // --- APP LOGIC ---

        /**
         * Main function that initializes the app on page load
         */
        document.addEventListener('DOMContentLoaded', () => {
            console.log("Garage App Initialized...");
            // Load Lucide icons
            lucide.createIcons();

            // Update footer year
            $('#current-year').textContent = new Date().getFullYear();

            // Set up filter buttons
            setupFilterButtons();
            
            // Perform initial filtering (Garages)
            updateFilterButtonsUI();
            filterAndDisplayVehicles();

            // Populate stats boxes
            updateStatsBoxes(); // Changed function name for clarity

            // Mobile menu toggle
            $('#mobile-menu-btn').addEventListener('click', () => {
                $('#mobile-menu').classList.toggle('hidden');
            });
        });

        /**
         * NEW: Updates the new asset summary list based on user's screenshot
         */
        function updateStatsBoxes() {
            const { vehicles, garages } = mockData;
            const listCol1 = $('#asset-summary-list-1');
            const listCol2 = $('#asset-summary-list-2');
            const propertyDetailsList = $('#property-details-list');
            listCol1.innerHTML = '';
            listCol2.innerHTML = '';
            propertyDetailsList.innerHTML = ''; // Clear property list

            // Helper function to filter and sum categories
            const calculateCategory = (filterFn) => {
                const filtered = vehicles.filter(filterFn);
                const count = filtered.length;
                const value = filtered.reduce((sum, v) => sum + (v.basePrice || 0) + (v.upgradePrice || 0), 0);
                return { count, value };
            };
            
            // Define all categories to display
            const categories = [
                { name: 'Super Cars', fn: v => v.type === 'super' },
                { name: 'Sports Cars', fn: v => v.type === 'sports' },
                { name: 'Classic Cars', fn: v => v.type === 'classic' },
                { name: 'Muscle Cars', fn: v => v.type === 'muscle' },
                // FIXED: 'weaponized' now includes 'armored' by data change, not logic
                { name: 'Weaponized', fn: v => v.type === 'weaponized' },
                { name: 'Arena War', fn: v => v.type === 'arena' },
                { name: 'Special Vehicles', fn: v => v.type === 'special' },
                { name: 'Off-Road', fn: v => v.type === 'offroad' },
                { name: 'Motorcycles', fn: v => v.type === 'motorcycle' },
                { name: 'Aircraft', fn: v => v.type === 'aircraft' },
                { name: 'Helicopters', fn: v => v.type === 'helicopter' },
                { name: 'Sea Vehicles', fn: v => v.type === 'sea_vehicle' },
                { name: 'Open Wheel', fn: v => v.type === 'open_wheel' },
                { name: 'Other', fn: v => ['sedan', 'suv', 'coupe', 'utility', 'service', 'rc'].includes(v.type) },
            ];

            // --- NEW LOGIC (FIX FOR PROGRESS BAR AND COUNT) ---
            // 1. Calculate all values first
            const calculatedCategories = categories.map(cat => ({
                name: cat.name,
                ...calculateCategory(cat.fn)
            })).filter(c => c.count > 0); // Filter out empty categories

            // 2. Find the max value for the progress bar scaling
            const maxValue = Math.max(...calculatedCategories.map(c => c.value));
            
            // 3. Create HTML
            const half = Math.ceil(calculatedCategories.length / 2);

            const createCategoryHTML = (category, maxVal) => {
                // Calculate proportional width, prevent divide by zero
                const barWidth = maxVal > 0 ? (category.value / maxVal) * 100 : 0;
                
                return `
                    <div class="flex flex-col space-y-1">
                        <div class="flex justify-between items-center">
                            <span class="text-sm font-semibold text-zinc-300 uppercase">${category.name}</span>
                            <!-- FIXED: Show count as "X Vehicles" not "X/X" -->
                            <span class="text-sm font-bold text-white">${category.count} Vehicles</span>
                        </div>
                        <div class="asset-progress-bar">
                            <!-- FIXED: Set width dynamically -->
                            <div class="asset-progress-fill" style="width: ${barWidth}%;"></div>
                        </div>
                        <div class="text-right text-sm font-semibold text-green-400">
                            ${formatCurrency(category.value)}
                        </div>
                    </div>
                `;
            };

            // Populate columns
            calculatedCategories.forEach((cat, index) => {
                const html = createCategoryHTML(cat, maxValue);
                if (index < half) {
                    listCol1.innerHTML += html;
                } else {
                    listCol2.innerHTML += html;
                }
            });
            // --- END NEW LOGIC ---

            // 1. Total Properties (This part is fine)
            const properties = garages.filter(g => g.basePrice > 0);
            const propertyValue = properties.reduce((sum, g) => sum + (g.basePrice || 0) + (g.upgradePrice || 0), 0);
            $('#total-properties-count').textContent = properties.length + ' Properties';
            $('#total-properties-value').textContent = formatCurrency(propertyValue);

            // --- NEW: Populate Expandable Property List ---
            const sortedProperties = properties
                .map(p => ({ name: p.name, value: (p.basePrice || 0) + (p.upgradePrice || 0) }))
                .sort((a, b) => b.value - a.value);
            
            sortedProperties.forEach((prop, index) => {
                propertyDetailsList.innerHTML += `
                    <div class="flex justify-between items-center text-sm">
                        <span class="text-zinc-300">${index + 1}. ${prop.name}</span>
                        <span class="font-semibold text-zinc-100">${formatCurrency(prop.value)}</span>
                    </div>
                `;
            });
            // --- END NEW PROPERTY LIST ---
            
            // 2. Total Asset Value (This part is fine)
            const allVehicleValue = vehicles.reduce((sum, v) => sum + (v.basePrice || 0) + (v.upgradePrice || 0), 0);
            $('#total-value').textContent = formatCurrency(propertyValue + allVehicleValue);
        }

        /**
         * Sets up the main sorting buttons (Garage / Type / Website)
         */
        function setupFilterButtons() {
            const dynamicTitle = $('#dynamic-gallery-title');

            $('#sort-by-garage').addEventListener('click', () => {
                currentFilterType = 'garage';
                currentFilterId = 'all';
                dynamicTitle.textContent = 'Garages'; // NEW: Update title
                updateFilterButtonsUI();
                filterAndDisplayVehicles();
            });

            $('#sort-by-type').addEventListener('click', () => {
                currentFilterType = 'type';
                currentFilterId = 'all';
                dynamicTitle.textContent = 'Types'; // NEW: Update title
                updateFilterButtonsUI();
                filterAndDisplayVehicles();
            });

            $('#sort-by-website').addEventListener('click', () => {
                currentFilterType = 'website';
                currentFilterId = 'all';
                dynamicTitle.textContent = 'Websites'; // NEW: Update title
                updateFilterButtonsUI();
                filterAndDisplayVehicles();
            });

            // NEW: Brand button listener
            $('#sort-by-brand').addEventListener('click', () => {
                currentFilterType = 'brand';
                currentFilterId = 'all';
                dynamicTitle.textContent = 'Brands'; // NEW: Update title
                updateFilterButtonsUI();
                filterAndDisplayVehicles();
            });
        }

        /**
         * Creates and updates the sub-filter buttons (Penthouse, Super, Legendary etc.)
         */
        function updateFilterButtonsUI() {
            const container = $('#filter-buttons-container');
            container.innerHTML = ''; // Clear

            // Set active main button
            $('#sort-by-garage').classList.toggle('active', currentFilterType === 'garage');
            $('#sort-by-type').classList.toggle('active', currentFilterType === 'type');
            $('#sort-by-website').classList.toggle('active', currentFilterType === 'website');
            $('#sort-by-brand').classList.toggle('active', currentFilterType === 'brand'); // NEW

            // Get the list to filter by (Garages, Types, or Websites)
            const filterMap = {
                garage: mockData.garages,
                type: mockData.types,
                website: mockData.websites,
                brand: mockData.brands // NEW
            };
            const filterList = filterMap[currentFilterType];

            // "All" button
            const allButton = document.createElement('button');
            allButton.textContent = 'All';
            allButton.className = 'btn-filter'; // NEW STYLE
            allButton.classList.toggle('active', currentFilterId === 'all');
            allButton.addEventListener('click', () => {
                currentFilterId = 'all';
                filterAndDisplayVehicles();
            });
            container.appendChild(allButton);

            // Dynamic filter buttons
            filterList.forEach(filter => {
                const button = document.createElement('button');
                button.textContent = filter.name;
                button.className = 'btn-filter'; // NEW STYLE
                button.classList.toggle('active', currentFilterId === filter.id);
                button.addEventListener('click', () => {
                    currentFilterId = filter.id;
                    filterAndDisplayVehicles();
                });
                container.appendChild(button);
            });
        }

        /**
         * Filters vehicles based on the current state and displays them
         */
        function filterAndDisplayVehicles() {
            const { vehicles, garages, types, websites, brands } = mockData; // Added brands
            const propertyCostDisplay = $('#property-cost-display');
            const propertyCostValue = $('#property-cost-value');
            
            let propertyCost = 0;
            
            // NEW: Logic for Background and Property Cost
            const bodyEl = document.body;
            const defaultBg = "url('https://placehold.co/1920x1080/18181b/18181b?text=+')";
            propertyCostDisplay.classList.add('hidden'); // Hide first

            if (currentFilterType === 'garage' && currentFilterId !== 'all') {
                const newBgUrl = `url('images/background/${currentFilterId}.jpg')`;
                bodyEl.style.backgroundImage = newBgUrl;
                
                // Find the cost of the selected garage
                const garage = garages.find(g => g.id === currentFilterId);
                if (garage && (garage.basePrice > 0 || garage.upgradePrice > 0)) {
                    propertyCost = (garage.basePrice || 0) + (garage.upgradePrice || 0);
                    propertyCostValue.textContent = formatCurrency(propertyCost);
                    propertyCostDisplay.classList.remove('hidden');
                }
                
            } else {
                bodyEl.style.backgroundImage = defaultBg;
            }
            
            // Update active buttons
            const filterMap = {
                garage: garages,
                type: types,
                website: websites,
                brand: brands // NEW
            };
            const currentList = filterMap[currentFilterType];

            $$('#filter-buttons-container button').forEach(btn => {
                const isActive = (btn.textContent === 'All' && currentFilterId === 'all') || 
                                 (btn.textContent !== 'All' && currentList.find(f => f.name === btn.textContent)?.id === currentFilterId);
                btn.classList.toggle('active', isActive);
            });

            // Filter vehicles
            let filteredVehicles = [];
            if (currentFilterId === 'all') {
                filteredVehicles = vehicles; // No property cost shown when 'All' is selected
            } else {
                // FIXED: Simplified logic, no more special case needed
                if (currentFilterType === 'garage') {
                    filteredVehicles = vehicles.filter(v => v.garageId === currentFilterId);
                } else if (currentFilterType === 'type') {
                    filteredVehicles = vehicles.filter(v => v.type === currentFilterId);
                } else if (currentFilterType === 'website') {
                    filteredVehicles = vehicles.filter(v => v.websiteId === currentFilterId);
                } else if (currentFilterType === 'brand') { // NEW
                    filteredVehicles = vehicles.filter(v => v.brandId === currentFilterId);
                }
            }

            // Update title
            updateGalleryTitle();
            
            // Create vehicle cards and add property cost to the total
            displayVehicleCards(filteredVehicles, propertyCost);
        }

        /**
         * Updates the gallery title and counters
         */
        function updateGalleryTitle() {
            let title = 'All Assets';
            if (currentFilterId !== 'all') {
                const filterMap = {
                    garage: mockData.garages,
                    type: mockData.types,
                    website: mockData.websites,
                    brand: mockData.brands // NEW
                };
                const list = filterMap[currentFilterType];
                const filterName = list.find(f => f.id === currentFilterId)?.name;
                title = filterName || 'All Assets';
            }
            $('#gallery-title').textContent = title;
        }

        /**
         * Displays the given list of vehicles as HTML cards on the screen
         * @param {Array} vehiclesToShow - Array of vehicle objects to display
         * @param {number} propertyCost - The cost of the property itself (if any)
         */
        function displayVehicleCards(vehiclesToShow, propertyCost = 0) {
            const grid = $('#vehicle-grid');
            const noResults = $('#no-results');
            grid.innerHTML = ''; // Clear

            if (vehiclesToShow.length === 0 && propertyCost === 0) {
                 // Only show "Not Found" if there are no vehicles AND no property cost to show
                noResults.classList.remove('hidden');
            } else {
                noResults.classList.add('hidden');
            }

            // Total starts with the property cost
            let filteredTotalValue = propertyCost;

            vehiclesToShow.forEach(vehicle => {
                const totalValue = (vehicle.basePrice || 0) + (vehicle.upgradePrice || 0);
                filteredTotalValue += totalValue; // Add vehicle cost

                const typeName = mockData.types.find(t => t.id === vehicle.type)?.name || vehicle.type.toUpperCase();
                const placeholderImage = `https://placehold.co/600x400/3f3f46/71717a?text=${encodeURIComponent(vehicle.name)}`;
                const websiteName = mockData.websites.find(w => w.id === vehicle.websiteId)?.name || 'Unknown';
                const brandName = mockData.brands.find(b => b.id === vehicle.brandId)?.name || 'Unknown'; // NEW

                const card = document.createElement('div');
                card.className = 'glass-effect rounded-lg overflow-hidden shadow-xl border border-zinc-700/50 transition-all hover:shadow-amber-500/20 hover:border-amber-500/50';
                
                card.innerHTML = `
                    <img src="${vehicle.image}" 
                         alt="${vehicle.name}" 
                         class="w-full h-48 object-cover"
                         onerror="this.onerror=null;this.src='${placeholderImage}';">
                    
                    <div class="p-4">
                        <div class="flex justify-between items-start">
                            <h3 class="text-xl font-bold text-white truncate">${vehicle.name}</h3>
                            <span class="text-xs font-medium bg-zinc-700 text-zinc-200 px-2 py-1 rounded">${typeName}</span>
                        </div>
                        <!-- CHANGED: Replaced update text with brand name, update is now in title -->
                        <p class="text-sm text-zinc-400 mb-2 uppercase" title="Update: ${vehicle.update || 'Unknown'}">${brandName}</p>
                        
                        <div class="flex justify-between items-center mt-3 pt-3 border-t border-zinc-700">
                             <span class="text-xs font-medium text-amber-400 truncate" title="From: ${websiteName}">
                                ${websiteName}
                             </span>
                            <span class="text-lg font-semibold text-green-400">${formatCurrency(totalValue)}</span>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });

            // Update filtered counters
            $('#filtered-count').textContent = vehiclesToShow.length;
            $('#filtered-value').textContent = formatCurrency(filteredTotalValue);
        }

    </script>
</body>
</html>
